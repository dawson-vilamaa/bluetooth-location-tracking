[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar meteorInstall = Package.modules.meteorInstall;\nvar meteorBabelHelpers = Package.modules.meteorBabelHelpers;\nvar Promise = Package.promise.Promise;\nvar Tracker = Package.tracker.Tracker;\nvar Deps = Package.tracker.Deps;\nvar ReactiveDict = Package['reactive-dict'].ReactiveDict;\nvar ReactiveVar = Package['reactive-var'].ReactiveVar;\nvar EJSON = Package.ejson.EJSON;\nvar check = Package.check.check;\nvar Match = Package.check.Match;\nvar Symbol = Package['ecmascript-runtime-client'].Symbol;\nvar Map = Package['ecmascript-runtime-client'].Map;\nvar Set = Package['ecmascript-runtime-client'].Set;\n\nvar require = meteorInstall({\"node_modules\":{\"meteor\":{\"ostrio:flow-router-extra\":{\"client\":{\"_init.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/_init.js                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  FlowRouter: function () {\n    return FlowRouter;\n  },\n  Router: function () {\n    return Router;\n  },\n  Route: function () {\n    return Route;\n  },\n  Group: function () {\n    return Group;\n  },\n  Triggers: function () {\n    return Triggers;\n  },\n  BlazeRenderer: function () {\n    return BlazeRenderer;\n  },\n  RouterHelpers: function () {\n    return RouterHelpers;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Router;\nmodule.link(\"./router.js\", {\n  \"default\": function (v) {\n    Router = v;\n  }\n}, 1);\nvar Route;\nmodule.link(\"./route.js\", {\n  \"default\": function (v) {\n    Route = v;\n  }\n}, 2);\nvar Group;\nmodule.link(\"./group.js\", {\n  \"default\": function (v) {\n    Group = v;\n  }\n}, 3);\nvar Triggers;\nmodule.link(\"./triggers.js\", {\n  \"default\": function (v) {\n    Triggers = v;\n  }\n}, 4);\nvar BlazeRenderer;\nmodule.link(\"./renderer.js\", {\n  \"default\": function (v) {\n    BlazeRenderer = v;\n  }\n}, 5);\nvar helpersInit;\nmodule.link(\"./active.route.js\", {\n  \"default\": function (v) {\n    helpersInit = v;\n  }\n}, 6);\n\nvar _helpers;\n\nmodule.link(\"./../lib/_helpers.js\", {\n  _helpers: function (v) {\n    _helpers = v;\n  }\n}, 7);\nvar requestAnimFrame;\nmodule.link(\"./modules.js\", {\n  requestAnimFrame: function (v) {\n    requestAnimFrame = v;\n  }\n}, 8);\n\nif (Package['zimme:active-route']) {\n  Meteor._debug('Please remove `zimme:active-route` package, as its features is build into flow-router-extra, and will interfere.');\n\n  Meteor._debug('meteor remove zimme:active-route');\n}\n\nif (Package['arillo:flow-router-helpers']) {\n  Meteor._debug('Please remove `arillo:flow-router-helpers` package, as its features is build into flow-router-extra, and will interfere.');\n\n  Meteor._debug('meteor remove arillo:flow-router-helpers');\n}\n\nif (Package['meteorhacks:inject-data']) {\n  Meteor._debug('`meteorhacks:inject-data` is deprecated, please remove it and install its successor - `communitypackages:inject-data`');\n\n  Meteor._debug('meteor remove meteorhacks:inject-data');\n\n  Meteor._debug('meteor add communitypackages:inject-data');\n}\n\nif (Package['meteorhacks:fast-render']) {\n  Meteor._debug('`meteorhacks:fast-render` is deprecated, please remove it and install its successor - `communitypackages:fast-render`');\n\n  Meteor._debug('meteor remove meteorhacks:fast-render');\n\n  Meteor._debug('meteor add communitypackages:fast-render');\n}\n\nif (Package['staringatlights:inject-data']) {\n  Meteor._debug('`staringatlights:inject-data` is deprecated, please remove it and install its successor - `communitypackages:inject-data`');\n\n  Meteor._debug('meteor remove staringatlights:inject-data');\n\n  Meteor._debug('meteor add communitypackages:inject-data');\n}\n\nif (Package['staringatlights:fast-render']) {\n  Meteor._debug('`staringatlights:fast-render` is deprecated, please remove it and install its successor - `communitypackages:fast-render`');\n\n  Meteor._debug('meteor remove staringatlights:fast-render');\n\n  Meteor._debug('meteor add communitypackages:fast-render');\n}\n\nvar FlowRouter = new Router();\nFlowRouter.Router = Router;\nFlowRouter.Route = Route; // Initialize FlowRouter\n\nMeteor.startup(function () {\n  if (!FlowRouter._askedToWait && !FlowRouter._initialized) {\n    FlowRouter.initialize();\n    FlowRouter.route('/___refresh/:layout/:template/:oldRoute?', {\n      name: '___refresh',\n      action: function (params, queryParams) {\n        this.render(params.layout, params.template, function () {\n          requestAnimFrame(function () {\n            if (params.oldRoute) {\n              try {\n                if (history.length) {\n                  window.history.go(-1);\n                } else {\n                  FlowRouter.go(params.oldRoute, queryParams.oldParams ? JSON.parse(queryParams.oldParams) : {});\n                }\n              } catch (e) {\n                FlowRouter.go('/');\n              }\n            } else {\n              if (history.length) {\n                window.history.go(-1);\n              } else {\n                FlowRouter.go('/');\n              }\n            }\n          });\n        });\n      }\n    });\n\n    FlowRouter.refresh = function (layout, template) {\n      if (!layout || !_helpers.isString(layout)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"layout\" must be a String!');\n      }\n\n      if (!template || !_helpers.isString(template)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"template\" must be a String!');\n      }\n\n      FlowRouter.go('___refresh', {\n        oldRoute: FlowRouter._current.route.name,\n        layout: layout,\n        template: template\n      }, {\n        oldParams: JSON.stringify(FlowRouter._current.params || {})\n      });\n    };\n  }\n});\nvar RouterHelpers = helpersInit(FlowRouter);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"active.route.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/active.route.js                                                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _slicedToArray;\n\nmodule.link(\"@babel/runtime/helpers/slicedToArray\", {\n  default: function (v) {\n    _slicedToArray = v;\n  }\n}, 0);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\n\nvar _helpers;\n\nmodule.link(\"./../lib/_helpers.js\", {\n  _helpers: function (v) {\n    _helpers = v;\n  }\n}, 1);\nvar check, Match;\nmodule.link(\"meteor/check\", {\n  check: function (v) {\n    check = v;\n  },\n  Match: function (v) {\n    Match = v;\n  }\n}, 2);\nvar ReactiveDict;\nmodule.link(\"meteor/reactive-dict\", {\n  ReactiveDict: function (v) {\n    ReactiveDict = v;\n  }\n}, 3);\nvar Template;\n\nif (Package.templating) {\n  Template = Package.templating.Template;\n}\n\nvar init = function (FlowRouter) {\n  // Active Route\n  // https://github.com/meteor-activeroute/legacy\n  // zimme:active-route\n  // License (MIT License): https://github.com/meteor-activeroute/legacy/blob/master/LICENSE.md\n  // Lib\n  var errorMessages = {\n    noSupportedRouter: 'No supported router installed. Please install flow-router.',\n    invalidRouteNameArgument: 'Invalid argument, must be String or RegExp.',\n    invalidRouteParamsArgument: 'Invalid argument, must be Object.'\n  };\n\n  var checkRouteOrPath = function (arg) {\n    try {\n      return check(arg, Match.OneOf(RegExp, String));\n    } catch (e) {\n      throw new Error(errorMessages.invalidRouteNameArgument);\n    }\n  };\n\n  var checkParams = function (arg) {\n    try {\n      return check(arg, Object);\n    } catch (e) {\n      throw new Error(errorMessages.invalidRouteParamsArgument);\n    }\n  };\n\n  var config = new ReactiveDict('activeRouteConfig');\n  config.setDefault({\n    activeClass: 'active',\n    caseSensitive: true,\n    disabledClass: 'disabled'\n  });\n\n  var test = function (_value, _pattern) {\n    var value = _value;\n    var pattern = _pattern;\n\n    if (!value) {\n      return false;\n    }\n\n    if (Match.test(pattern, RegExp)) {\n      return value.search(pattern) > -1;\n    }\n\n    if (Match.test(pattern, String)) {\n      if (config.equals('caseSensitive', false)) {\n        value = value.toLowerCase();\n        pattern = pattern.toLowerCase();\n      }\n\n      return value === pattern;\n    }\n\n    return false;\n  };\n\n  var ActiveRoute = {\n    config: function () {\n      return this.configure.apply(this, arguments);\n    },\n    configure: function (options) {\n      if (!Meteor.isServer) {\n        config.set(options);\n      }\n    },\n    name: function (routeName) {\n      var routeParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (Meteor.isServer) {\n        return void 0;\n      }\n\n      checkRouteOrPath(routeName);\n      checkParams(routeParams);\n      var currentPath;\n      var currentRouteName;\n      var path;\n\n      if (!_helpers.isEmpty(routeParams) && Match.test(routeName, String)) {\n        FlowRouter.watchPathChange();\n        currentPath = FlowRouter.current().path;\n        path = FlowRouter.path(routeName, routeParams);\n      } else {\n        currentRouteName = FlowRouter.getRouteName();\n      }\n\n      return test(currentPath || currentRouteName, path || routeName);\n    },\n    path: function (path) {\n      if (Meteor.isServer) {\n        return void 0;\n      }\n\n      checkRouteOrPath(path);\n      FlowRouter.watchPathChange();\n      return test(FlowRouter.current().path, path);\n    }\n  }; // Client\n\n  var isActive = function (type) {\n    var inverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var helperName;\n    helperName = 'is';\n\n    if (inverse) {\n      helperName += 'Not';\n    }\n\n    helperName += 'Active' + type;\n    return function () {\n      var _options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var _attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var options = _helpers.isObject(_options) ? _options.hash || _options : _options;\n      var attributes = _helpers.isObject(_attributes) ? _attributes.hash || _attributes : _attributes;\n\n      if (Match.test(options, String)) {\n        if (config.equals('regex', true)) {\n          options = {\n            regex: options\n          };\n        } else if (type === 'Path') {\n          options = {\n            path: options\n          };\n        } else {\n          options = {\n            name: options\n          };\n        }\n      }\n\n      options = _helpers.extend(options, attributes);\n      var pattern = Match.ObjectIncluding({\n        \"class\": Match.Optional(String),\n        className: Match.Optional(String),\n        regex: Match.Optional(Match.OneOf(RegExp, String)),\n        name: Match.Optional(String),\n        path: Match.Optional(String)\n      });\n      check(options, pattern);\n      var regex = options.regex;\n      var name = options.name;\n      var path = options.path;\n      var className = options.class ? options.class : options.className;\n\n      if (type === 'Path') {\n        name = null;\n      } else {\n        path = null;\n      }\n\n      if (!(regex || name || path)) {\n        var t = (type === 'Route' ? 'name' : type).toLowerCase();\n\n        Meteor._debug('Invalid argument, ' + helperName + ' takes \"' + t + '\", ' + (t + '=\"' + t + '\" or regex=\"regex\"'));\n\n        return false;\n      }\n\n      if (Match.test(regex, String)) {\n        if (config.equals('caseSensitive', false)) {\n          regex = new RegExp(regex, 'i');\n        } else {\n          regex = new RegExp(regex);\n        }\n      }\n\n      if (!_helpers.isRegExp(regex)) {\n        regex = name || path;\n      }\n\n      if (inverse) {\n        if (!_helpers.isString(className)) {\n          className = config.get('disabledClass');\n        }\n      } else {\n        if (!_helpers.isString(className)) {\n          className = config.get('activeClass');\n        }\n      }\n\n      var isPath;\n      var result;\n\n      if (type === 'Path') {\n        isPath = true;\n      }\n\n      if (isPath) {\n        result = ActiveRoute.path(regex);\n      } else {\n        options = _helpers.extend(attributes.data, attributes);\n        result = ActiveRoute.name(regex, _helpers.omit(options, ['class', 'className', 'data', 'regex', 'name', 'path']));\n      }\n\n      if (inverse) {\n        result = !result;\n      }\n\n      if (result) {\n        return className;\n      }\n\n      return false;\n    };\n  };\n\n  var arHelpers = {\n    isActiveRoute: isActive('Route'),\n    isActivePath: isActive('Path'),\n    isNotActiveRoute: isActive('Route', true),\n    isNotActivePath: isActive('Path', true)\n  }; // If blaze is in use, register global helpers\n\n  if (Template) {\n    for (var _i = 0, _Object$entries = Object.entries(arHelpers); _i < _Object$entries.length; _i++) {\n      var _ref = _Object$entries[_i];\n\n      var _ref2 = _slicedToArray(_ref, 2);\n\n      var name = _ref2[0];\n      var helper = _ref2[1];\n      Template.registerHelper(name, helper);\n    }\n  } // FlowRouter Helpers\n  // arillo:flow-router-helpers\n  // https://github.com/arillo/meteor-flow-router-helpers\n  // License (MIT License): https://github.com/arillo/meteor-flow-router-helpers/blob/master/LICENCE\n\n\n  var subsReady = function () {\n    for (var _len = arguments.length, _subs = new Array(_len), _key = 0; _key < _len; _key++) {\n      _subs[_key] = arguments[_key];\n    }\n\n    var subs = _subs.slice(0, -1);\n\n    if (subs.length === 1) {\n      return FlowRouter.subsReady();\n    }\n\n    return subs.filter(function (memo, sub) {\n      if (_helpers.isString(sub)) {\n        return memo && FlowRouter.subsReady(sub);\n      }\n    }, true);\n  };\n\n  var pathFor = function (_path) {\n    var _view = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      hash: {}\n    };\n\n    var path = _path;\n    var view = _view;\n\n    if (!path) {\n      throw new Error('no path defined');\n    }\n\n    if (!view.hash) {\n      view = {\n        hash: view\n      };\n    }\n\n    if (path.hash && path.hash.route) {\n      view = path;\n      path = view.hash.route;\n      delete view.hash.route;\n    }\n\n    var query = view.hash.query ? FlowRouter._qs.parse(view.hash.query) : {};\n    var hashBang = view.hash.hash ? view.hash.hash : '';\n    return FlowRouter.path(path, view.hash, query) + (hashBang ? '#' + hashBang : '');\n  };\n\n  var urlFor = function (path, view) {\n    return Meteor.absoluteUrl(pathFor(path, view).substr(1));\n  };\n\n  var param = function (name) {\n    return FlowRouter.getParam(name);\n  };\n\n  var queryParam = function (key) {\n    return FlowRouter.getQueryParam(key);\n  };\n\n  var currentRouteName = function () {\n    return FlowRouter.getRouteName();\n  };\n\n  var currentRouteOption = function (optionName) {\n    return FlowRouter.current().route.options[optionName];\n  };\n\n  var isSubReady = function (sub) {\n    if (sub) {\n      return FlowRouter.subsReady(sub);\n    }\n\n    return FlowRouter.subsReady();\n  };\n\n  var frHelpers = {\n    subsReady: subsReady,\n    pathFor: pathFor,\n    urlFor: urlFor,\n    param: param,\n    queryParam: queryParam,\n    currentRouteName: currentRouteName,\n    isSubReady: isSubReady,\n    currentRouteOption: currentRouteOption\n  };\n  var FlowRouterHelpers;\n\n  if (Meteor.isServer) {\n    FlowRouterHelpers = {\n      pathFor: pathFor,\n      urlFor: urlFor\n    };\n  } else {\n    FlowRouterHelpers = frHelpers; // If blaze is in use, register global helpers\n\n    if (Template) {\n      for (var _i2 = 0, _Object$entries2 = Object.entries(frHelpers); _i2 < _Object$entries2.length; _i2++) {\n        var _ref3 = _Object$entries2[_i2];\n\n        var _ref4 = _slicedToArray(_ref3, 2);\n\n        var _name = _ref4[0];\n        var _helper = _ref4[1];\n        Template.registerHelper(_name, _helper);\n      }\n    }\n  }\n\n  return Object.assign({}, ActiveRoute, FlowRouterHelpers);\n};\n\nmodule.exportDefault(init);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"group.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/group.js                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _helpers;\n\nmodule.link(\"./../lib/_helpers.js\", {\n  _helpers: function (v) {\n    _helpers = v;\n  }\n}, 0);\n\nvar makeTrigger = function (trigger) {\n  if (_helpers.isFunction(trigger)) {\n    return [trigger];\n  } else if (!_helpers.isArray(trigger)) {\n    return [];\n  }\n\n  return trigger;\n};\n\nvar makeWaitFor = function (func) {\n  if (_helpers.isFunction(func)) {\n    return [func];\n  }\n\n  return [];\n};\n\nvar makeTriggers = function (_base, _triggers) {\n  if (!_base && !_triggers) {\n    return [];\n  }\n\n  return makeTrigger(_base).concat(makeTrigger(_triggers));\n};\n\nvar Group = /*#__PURE__*/function () {\n  function Group(router) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var parent = arguments.length > 2 ? arguments[2] : undefined;\n\n    if (options.prefix && !/^\\//.test(options.prefix)) {\n      throw new Error('group\\'s prefix must start with \"/\"');\n    }\n\n    this._waitFor = makeWaitFor(options.waitOn);\n    this._router = router;\n    this.prefix = options.prefix || '';\n    this.name = options.name;\n    this.options = options;\n    this._triggersEnter = makeTriggers(options.triggersEnter, this._triggersEnter);\n    this._triggersExit = makeTriggers(this._triggersExit, options.triggersExit);\n    this._subscriptions = options.subscriptions || Function.prototype;\n    this.parent = parent;\n\n    if (this.parent) {\n      this.prefix = parent.prefix + this.prefix;\n      this._triggersEnter = makeTriggers(parent._triggersEnter, this._triggersEnter);\n      this._triggersExit = makeTriggers(this._triggersExit, parent._triggersExit);\n      this._waitFor = this.parent._waitFor.concat(this._waitFor);\n    }\n  }\n\n  var _proto = Group.prototype;\n\n  _proto.route = function () {\n    function route(_pathDef) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _group = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (!/^\\//.test(_pathDef)) {\n        throw new Error('route\\'s path must start with \"/\"');\n      }\n\n      var group = _group || this;\n      var pathDef = this.prefix + _pathDef;\n      options.triggersEnter = makeTriggers(this._triggersEnter, options.triggersEnter);\n      options.triggersExit = makeTriggers(options.triggersExit, this._triggersExit);\n      options.waitFor = this._waitFor.concat([]);\n      return this._router.route(pathDef, _helpers.extend(_helpers.omit(this.options, ['triggersEnter', 'triggersExit', 'subscriptions', 'prefix', 'waitOn', 'name', 'title', 'titlePrefix', 'link', 'script', 'meta']), options), group);\n    }\n\n    return route;\n  }();\n\n  _proto.group = function () {\n    function group(options) {\n      return new Group(this._router, options, this);\n    }\n\n    return group;\n  }();\n\n  _proto.callSubscriptions = function () {\n    function callSubscriptions(current) {\n      if (this.parent) {\n        this.parent.callSubscriptions(current);\n      }\n\n      this._subscriptions.call(current.route, current.params, current.queryParams);\n    }\n\n    return callSubscriptions;\n  }();\n\n  return Group;\n}();\n\nmodule.exportDefault(Group);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"modules.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/modules.js                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.export({\n  page: function () {\n    return page;\n  },\n  qs: function () {\n    return qs;\n  },\n  requestAnimFrame: function () {\n    return requestAnimFrame;\n  }\n});\nvar page;\nmodule.link(\"page\", {\n  \"default\": function (v) {\n    page = v;\n  }\n}, 0);\nvar qs;\nmodule.link(\"qs\", {\n  \"default\": function (v) {\n    qs = v;\n  }\n}, 1);\n\nvar requestAnimFrame = function () {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n    setTimeout(callback, 1000 / 60);\n  };\n}();\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"renderer.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/renderer.js                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\n\nvar _helpers;\n\nmodule.link(\"./../lib/_helpers.js\", {\n  _helpers: function (v) {\n    _helpers = v;\n  }\n}, 1);\nvar requestAnimFrame;\nmodule.link(\"./modules.js\", {\n  requestAnimFrame: function (v) {\n    requestAnimFrame = v;\n  }\n}, 2);\nvar Blaze;\nvar Template;\n\nif (Package.templating && Package.blaze) {\n  Blaze = Package.blaze.Blaze;\n  Template = Package.templating.Template;\n}\n\nvar _BlazeRemove = function (view) {\n  try {\n    Blaze.remove(view);\n  } catch (_e) {\n    Meteor._debug('[flow-router] [_BlazeRemove] exception:', _e);\n  }\n};\n\nvar BlazeRenderer = /*#__PURE__*/function () {\n  function BlazeRenderer() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!Blaze || !Template) {\n      return;\n    }\n\n    this.rootElement = opts.rootElement || function () {\n      return document.body;\n    };\n\n    var self = this;\n    this.isRendering = false;\n    this.queue = [];\n    this.yield = null;\n    this.cache = {};\n    this.old = this.newState();\n    this.old.materialized = true;\n    this.router = opts.router || false;\n    this.inMemoryRendering = opts.inMemoryRendering || false;\n\n    this.getMemoryElement = opts.getMemoryElement || function () {\n      return document.createElement('div');\n    };\n\n    if (!this.getMemoryElement || !_helpers.isFunction(this.getMemoryElement)) {\n      throw new Meteor.Error(400, '{getMemoryElement} must be a function, which returns new DOM element');\n    }\n\n    if (!this.rootElement || !_helpers.isFunction(this.rootElement)) {\n      throw new Meteor.Error(400, 'You must pass function into BlazeRenderer constructor, which returns DOM element');\n    }\n\n    Template.yield = new Template('yield', function () {});\n    Template.yield.onCreated(function () {\n      self.yield = this;\n    });\n    Template.yield.onRendered(function () {\n      self.yield = this;\n      self.materialize(self.old);\n    });\n    Template.yield.onDestroyed(function () {\n      if (self.old.template.view) {\n        _BlazeRemove(self.old.template.view);\n\n        self.old.template.view = null;\n        self.old.materialized = false;\n      }\n\n      self.yield = null;\n    });\n  }\n\n  var _proto = BlazeRenderer.prototype;\n\n  _proto.render = function () {\n    function render(__layout) {\n      var __template = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var __data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var __callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!Blaze || !Template) {\n        throw new Meteor.Error(400, '`.render()` - Requires `blaze` and `templating`, or `blaze-html-templates` packages to be installed');\n      }\n\n      if (!__layout) {\n        throw new Meteor.Error(400, '`.render()` - Requires at least one argument');\n      } else if (!_helpers.isString(__layout) && !(__layout instanceof Blaze.Template)) {\n        throw new Meteor.Error(400, '`.render()` - First argument must be a String or instance of Blaze.Template');\n      }\n\n      this.queue.push([__layout, __template, __data, __callback]);\n      this.startQueue();\n    }\n\n    return render;\n  }();\n\n  _proto.startQueue = function () {\n    function startQueue() {\n      if (this.queue.length) {\n        if (!this.isRendering) {\n          this.isRendering = true;\n          var task = this.queue.shift();\n          this.proceed.apply(this, task);\n\n          if (this.queue.length) {\n            this.startQueue.bind(this);\n          }\n        } else {\n          this.startQueue.bind(this);\n        }\n      }\n    }\n\n    return startQueue;\n  }();\n\n  _proto.proceed = function () {\n    function proceed(__layout) {\n      var _this$router, _this$router$_current, _this$router$_current2, _this$router$_current3;\n\n      var __template = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var __data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var __callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!Blaze || !Template) {\n        return;\n      }\n\n      var data = __data;\n      var layout = __layout;\n      var _layout = false;\n      var template = __template;\n      var _template = false;\n\n      var callback = __callback || function () {};\n\n      if (_helpers.isString(layout)) {\n        _layout = typeof Template !== 'undefined' && Template !== null ? Template[layout] : void 0;\n      } else if (layout instanceof Blaze.Template) {\n        _layout = layout;\n        layout = layout.viewName.replace('Template.', '');\n      } else {\n        layout = false;\n      }\n\n      if (_helpers.isString(template)) {\n        _template = typeof Template !== 'undefined' && Template !== null ? Template[template] : void 0;\n      } else if (template instanceof Blaze.Template) {\n        _template = template;\n        template = template.viewName.replace('Template.', '');\n      } else if (_helpers.isObject(template)) {\n        data = template;\n        template = false;\n      } else if (_helpers.isFunction(template)) {\n        callback = template;\n        template = false;\n      } else {\n        template = false;\n      }\n\n      if (_helpers.isFunction(data)) {\n        callback = data;\n        data = {};\n      } else if (!_helpers.isObject(data)) {\n        data = {};\n      }\n\n      if (!_helpers.isFunction(callback)) {\n        callback = function () {};\n      }\n\n      if (!_layout) {\n        this.old.materialized = true;\n        this.isRendering = false;\n        var error = new Meteor.Error(404, \"No such layout template: \" + layout);\n        this.router.onRenderError && _helpers.isFunction(this.router.onRenderError) && this.router.onRenderError.call(this, error);\n        callback(error);\n        throw error;\n      }\n\n      var current = this.newState(layout, template);\n      current.data = data;\n      current.callback = callback;\n      var updateTemplate = true;\n      var forceReRender = ((_this$router = this.router) === null || _this$router === void 0 ? void 0 : (_this$router$_current = _this$router._current) === null || _this$router$_current === void 0 ? void 0 : (_this$router$_current2 = _this$router$_current.route) === null || _this$router$_current2 === void 0 ? void 0 : (_this$router$_current3 = _this$router$_current2.conf) === null || _this$router$_current3 === void 0 ? void 0 : _this$router$_current3.forceReRender) === true;\n\n      if (template) {\n        if (!_template) {\n          this.old.materialized = true;\n          this.isRendering = false;\n\n          var _error = new Meteor.Error(404, \"No such template: \" + template);\n\n          this.router.onRenderError && _helpers.isFunction(this.router.onRenderError) && this.router.onRenderError.call(this, _error);\n          current.callback(_error);\n          throw _error;\n        }\n\n        if (forceReRender || this.old.template.name !== template) {\n          current.template.name = template;\n          current.template.blaze = _template;\n          this.newElement('template', current);\n\n          if (this.old.template.view) {\n            _BlazeRemove(this.old.template.view);\n\n            this.old.template.view = null;\n            this.old.materialized = false;\n          }\n\n          updateTemplate = false;\n        } else {\n          current.template = this.old.template;\n        }\n      }\n\n      if (!template || this.old.layout.name !== layout) {\n        current.layout.name = layout;\n        current.layout.blaze = _layout;\n        current.template.name = template;\n        current.template.blaze = _template;\n        this.newElement('layout', current);\n\n        if (this.old.layout.view) {\n          _BlazeRemove(this.old.layout.view);\n\n          this.old.layout.view = null;\n        }\n\n        this._render(current);\n      } else if (template) {\n        current.layout = this.old.layout;\n        current.template.name = template;\n        current.template.blaze = _template;\n\n        this._load(updateTemplate, true, current);\n      } else {\n        current.layout = this.old.layout;\n        this.isRendering = false;\n        current.materialized = true;\n        current.callback();\n\n        current.callback = function () {};\n      }\n\n      this.old = current;\n    }\n\n    return proceed;\n  }();\n\n  _proto._render = function () {\n    function _render(current) {\n      var _this = this;\n\n      if (!Blaze || !Template) {\n        return;\n      }\n\n      var getData = function () {\n        return current.data;\n      };\n\n      var rootElement = this.rootElement();\n\n      if (!rootElement) {\n        throw new Meteor.Error(400, 'BlazeRenderer can\\'t find root element!');\n      }\n\n      if (this.inMemoryRendering) {\n        current.layout.view = Blaze.renderWithData(current.layout.blaze, getData, current.layout.element);\n        requestAnimFrame(function () {\n          rootElement.appendChild(current.layout.element);\n\n          _this._load(false, false, current);\n        });\n      } else {\n        current.layout.view = Blaze.renderWithData(current.layout.blaze, getData, rootElement);\n\n        this._load(false, false, current);\n      }\n    }\n\n    return _render;\n  }();\n\n  _proto._load = function () {\n    function _load(updateTemplate, updateLayout, current) {\n      if (updateLayout && current.layout.view) {\n        current.layout.view.dataVar.set(current.data);\n      }\n\n      if (current.template.view && updateTemplate) {\n        current.template.view.dataVar.set(current.data);\n        this.isRendering = false;\n        current.materialized = true;\n        current.callback();\n\n        current.callback = function () {};\n      } else if (!current.template.name) {\n        this.isRendering = false;\n        current.materialized = true;\n        current.callback();\n\n        current.callback = function () {};\n      } else if (current.template.name && !this.yield) {\n        this.isRendering = false;\n        current.materialized = false;\n        current.callback();\n\n        current.callback = function () {};\n      } else if (current.template.name && this.yield) {\n        this.materialize(current);\n      }\n    }\n\n    return _load;\n  }();\n\n  _proto.newElement = function () {\n    function newElement(type, current) {\n      if (!this.inMemoryRendering) {\n        return;\n      }\n\n      current[type].parent = current[type].parent ? current[type].parent : document.createElement('div');\n\n      if (!current[type].element) {\n        current[type].element = this.getMemoryElement();\n        current[type].parent.appendChild(current[type].element);\n        current[type].element._parentElement = current[type].parent;\n      }\n    }\n\n    return newElement;\n  }();\n\n  _proto.newState = function () {\n    function newState() {\n      var layout = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var template = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var base = {\n        materialized: false,\n        data: null,\n        callback: function () {},\n        layout: {\n          view: null,\n          name: '',\n          blaze: null,\n          parent: null,\n          element: null\n        },\n        template: {\n          view: null,\n          name: '',\n          blaze: null,\n          parent: null,\n          element: null\n        }\n      };\n\n      if (!this.inMemoryRendering || !layout && !template) {\n        return base;\n      }\n\n      if (layout && this.cache[layout]) {\n        base.layout = this.cache[layout];\n      }\n\n      if (template && this.cache[template]) {\n        base.template = this.cache[template];\n      }\n\n      this.cache[template] = base;\n      return base;\n    }\n\n    return newState;\n  }();\n\n  _proto.materialize = function () {\n    function materialize(current) {\n      if (!Blaze || !Template) {\n        return;\n      }\n\n      if (current.template.name && !current.materialized) {\n        var getData = function () {\n          return current.data;\n        };\n\n        if (!this.yield) {\n          current.materialized = false;\n          return;\n        }\n\n        current.materialized = true;\n\n        if (this.inMemoryRendering) {\n          current.template.view = Blaze.renderWithData(current.template.blaze, getData, current.template.element, this.yield.view);\n\n          if (this.yield) {\n            this.yield.view._domrange.parentElement.appendChild(current.template.element);\n\n            this.isRendering = false;\n            current.materialized = true;\n            current.callback();\n\n            current.callback = function () {};\n          } else {\n            current.materialized = false;\n          }\n        } else {\n          if (this.yield) {\n            current.template.view = Blaze.renderWithData(current.template.blaze, getData, this.yield.view._domrange.parentElement, this.yield.view);\n            this.isRendering = false;\n            current.materialized = true;\n            current.callback();\n\n            current.callback = function () {};\n          } else {\n            current.materialized = false;\n          }\n        }\n      }\n    }\n\n    return materialize;\n  }();\n\n  return BlazeRenderer;\n}();\n\nmodule.exportDefault(BlazeRenderer);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"route.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/route.js                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _typeof;\n\nmodule.link(\"@babel/runtime/helpers/typeof\", {\n  default: function (v) {\n    _typeof = v;\n  }\n}, 0);\nvar Router;\nmodule.link(\"./_init.js\", {\n  Router: function (v) {\n    Router = v;\n  }\n}, 0);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 1);\nvar Promise;\nmodule.link(\"meteor/promise\", {\n  Promise: function (v) {\n    Promise = v;\n  }\n}, 2);\nvar Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 3);\n\nvar _helpers;\n\nmodule.link(\"./../lib/_helpers.js\", {\n  _helpers: function (v) {\n    _helpers = v;\n  }\n}, 4);\nvar ReactiveDict;\nmodule.link(\"meteor/reactive-dict\", {\n  ReactiveDict: function (v) {\n    ReactiveDict = v;\n  }\n}, 5);\n\nvar makeTriggers = function (triggers) {\n  if (_helpers.isFunction(triggers)) {\n    return [triggers];\n  } else if (!_helpers.isArray(triggers)) {\n    return [];\n  }\n\n  return triggers;\n};\n\nvar Route = /*#__PURE__*/function () {\n  function Route() {\n    var router = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Router();\n    var pathDef = arguments.length > 1 ? arguments[1] : undefined;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var group = arguments.length > 3 ? arguments[3] : undefined;\n    this.render = router.Renderer.render.bind(router.Renderer);\n    this.options = options;\n    this.globals = router.globals;\n    this.pathDef = pathDef; // Route.path is deprecated and will be removed in 3.0\n\n    this.path = pathDef;\n    this.conf = options.conf || {};\n    this.group = group;\n    this._data = options.data || null;\n    this._router = router;\n    this._action = options.action || Function.prototype;\n    this._waitOn = options.waitOn || null;\n    this._waitFor = _helpers.isArray(options.waitFor) ? options.waitFor : [];\n    this._subsMap = {};\n    this._onNoData = options.onNoData || null;\n    this._endWaiting = options.endWaiting || null;\n    this._currentData = null;\n    this._triggersExit = options.triggersExit ? makeTriggers(options.triggersExit) : [];\n    this._whileWaiting = options.whileWaiting || null;\n    this._triggersEnter = options.triggersEnter ? makeTriggers(options.triggersEnter) : [];\n    this._subscriptions = options.subscriptions || Function.prototype;\n    this._waitOnResources = options.waitOnResources || null;\n    this._params = new ReactiveDict();\n    this._queryParams = new ReactiveDict();\n    this._routeCloseDep = new Tracker.Dependency();\n    this._pathChangeDep = new Tracker.Dependency();\n\n    if (options.name) {\n      this.name = options.name;\n    }\n  }\n\n  var _proto = Route.prototype;\n\n  _proto.clearSubscriptions = function () {\n    function clearSubscriptions() {\n      this._subsMap = {};\n    }\n\n    return clearSubscriptions;\n  }();\n\n  _proto.register = function () {\n    function register(name, sub) {\n      this._subsMap[name] = sub;\n    }\n\n    return register;\n  }();\n\n  _proto.getSubscription = function () {\n    function getSubscription(name) {\n      return this._subsMap[name];\n    }\n\n    return getSubscription;\n  }();\n\n  _proto.getAllSubscriptions = function () {\n    function getAllSubscriptions() {\n      return this._subsMap;\n    }\n\n    return getAllSubscriptions;\n  }();\n\n  _proto.checkSubscriptions = function () {\n    function checkSubscriptions(subscriptions) {\n      var results = [];\n\n      for (var i = 0; i < subscriptions.length; i++) {\n        results.push(subscriptions[i] && subscriptions[i].ready ? subscriptions[i].ready() : false);\n      }\n\n      return !results.includes(false);\n    }\n\n    return checkSubscriptions;\n  }();\n\n  _proto.waitOn = function () {\n    function waitOn() {\n      var _this = this;\n\n      var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var next = arguments.length > 1 ? arguments[1] : undefined;\n      var _data = null;\n      var _isWaiting = false;\n      var _preloaded = 0;\n      var _resources = false;\n      var waitFor = [];\n      var promises = [];\n      var subscriptions = [];\n      var timer;\n      var trackers = [];\n\n      var placeIn = function (d) {\n        if (Object.prototype.toString.call(d) === '[object Promise]' || d.then && Object.prototype.toString.call(d.then) === '[object Function]') {\n          promises.push(d);\n        } else if (d.flush) {\n          trackers.push(d);\n        } else if (d.ready) {\n          subscriptions.push(d);\n        }\n      };\n\n      var whileWaitingAction = function () {\n        if (!_isWaiting) {\n          _this._whileWaiting && _this._whileWaiting(current.params, current.queryParams);\n          _isWaiting = true;\n        }\n      };\n\n      var subWait = function (delay) {\n        timer = Meteor.setTimeout(function () {\n          if (_this.checkSubscriptions(subscriptions)) {\n            Meteor.clearTimeout(timer);\n            _data = getData();\n\n            if (_resources) {\n              whileWaitingAction();\n              getResources();\n            } else {\n              next(current, _data);\n            }\n          } else {\n            wait(24);\n          }\n        }, delay);\n      };\n\n      var waitFails = 0;\n\n      var wait = function (delay) {\n        if (promises.length) {\n          Promise.all(promises).then(function () {\n            subWait(delay);\n            promises = [];\n          }).catch(function (error) {\n            if (waitFails > 9) {\n              subWait(256);\n              waitFails = 0;\n              promises = [];\n            } else {\n              wait(128);\n              waitFails++;\n\n              Meteor._debug('[ostrio:flow-router-extra] [route.wait] Promise not resolved', error);\n            }\n          });\n        } else {\n          subWait(delay);\n        }\n      };\n\n      var processSubData = function (subData) {\n        if (subData instanceof Array) {\n          for (var i = subData.length - 1; i >= 0; i--) {\n            if (subData[i] !== null && _typeof(subData[i]) === 'object') {\n              placeIn(subData[i]);\n            }\n          }\n        } else if (subData !== null && _typeof(subData) === 'object') {\n          placeIn(subData);\n        }\n      };\n\n      var stopSubs = function () {\n        for (var i = subscriptions.length - 1; i >= 0; i--) {\n          if (subscriptions[i].stop) {\n            subscriptions[i].stop();\n          }\n\n          delete subscriptions[i];\n        }\n\n        subscriptions = [];\n      };\n\n      var done = function (subscription) {\n        processSubData(_helpers.isFunction(subscription) ? subscription() : subscription);\n      };\n\n      if (current.route.globals.length) {\n        for (var i = 0; i < current.route.globals.length; i++) {\n          if (_typeof(current.route.globals[i]) === 'object') {\n            if (current.route.globals[i].waitOnResources) {\n              if (!_resources) {\n                _resources = [];\n              }\n\n              _resources.push(current.route.globals[i].waitOnResources);\n            }\n\n            if (current.route.globals[i].waitOn && _helpers.isFunction(current.route.globals[i].waitOn)) {\n              waitFor.unshift(current.route.globals[i].waitOn);\n            }\n          }\n        }\n      }\n\n      if (this._waitOnResources) {\n        if (!_resources) {\n          _resources = [];\n        }\n\n        _resources.push(this._waitOnResources);\n      }\n\n      var preload = function (len, __data) {\n        _preloaded++;\n\n        if (_preloaded >= len) {\n          next(current, __data);\n        }\n      };\n\n      var getData = function () {\n        if (_this._data) {\n          if (!_data) {\n            _data = _this._currentData = _this._data(current.params, current.queryParams);\n          } else {\n            _data = _this._currentData;\n          }\n        }\n\n        return _data;\n      };\n\n      var getResources = function () {\n        _data = getData();\n        var len = 0;\n        var items;\n        var images = [];\n        var other = [];\n\n        for (var _i = _resources.length - 1; _i >= 0; _i--) {\n          items = _resources[_i].call(_this, current.params, current.queryParams, _data);\n\n          if (items) {\n            if (items.images && items.images.length) {\n              images = images.concat(items.images);\n            }\n\n            if (items.other && items.other.length) {\n              other = other.concat(items.other);\n            }\n          }\n        }\n\n        if (other && other.length || images && images.length) {\n          if (other && other.length && typeof XMLHttpRequest !== 'undefined') {\n            other = other.filter(function (elem, index, self) {\n              return index === self.indexOf(elem);\n            });\n            len += other.length;\n            var prefetch = {};\n\n            for (var k = other.length - 1; k >= 0; k--) {\n              prefetch[k] = new XMLHttpRequest();\n\n              prefetch[k].onload = function () {\n                preload(len, _data);\n              };\n\n              prefetch[k].onerror = function () {\n                preload(len, _data);\n              };\n\n              prefetch[k].open('GET', other[k]);\n              prefetch[k].send(null);\n            }\n          }\n\n          if (images && images.length) {\n            images = images.filter(function (elem, index, self) {\n              return index === self.indexOf(elem);\n            });\n            len += images.length;\n            var imgs = {};\n\n            for (var j = images.length - 1; j >= 0; j--) {\n              imgs[j] = new Image();\n\n              imgs[j].onload = function () {\n                preload(len, _data);\n              };\n\n              imgs[j].onerror = function () {\n                preload(len, _data);\n              };\n\n              imgs[j].src = images[j];\n            }\n          }\n        } else {\n          next(current, _data);\n        }\n      };\n\n      if (this._waitFor.length) {\n        waitFor = waitFor.concat(this._waitFor);\n      }\n\n      if (_helpers.isFunction(this._waitOn)) {\n        waitFor.push(this._waitOn);\n      }\n\n      if (waitFor.length) {\n        waitFor.forEach(function (wo) {\n          processSubData(wo.call(_this, current.params, current.queryParams, done));\n        });\n\n        var triggerExitIndex = this._triggersExit.push(function () {\n          stopSubs();\n\n          for (var _i2 = trackers.length - 1; _i2 >= 0; _i2--) {\n            if (trackers[_i2].stop) {\n              trackers[_i2].stop();\n            }\n\n            delete trackers[_i2];\n          }\n\n          trackers = [];\n          promises = [];\n          subscriptions = [];\n          _data = _this._currentData = null;\n\n          _this._triggersExit.splice(triggerExitIndex - 1, 1);\n        });\n\n        whileWaitingAction();\n        wait(12);\n      } else if (_resources) {\n        whileWaitingAction();\n        getResources();\n      } else if (this._data) {\n        next(current, getData());\n      } else {\n        next(current);\n      }\n    }\n\n    return waitOn;\n  }();\n\n  _proto.callAction = function () {\n    function callAction(current) {\n      this._endWaiting && this._endWaiting();\n\n      if (this._data) {\n        if (this._onNoData && !this._currentData) {\n          this._onNoData(current.params, current.queryParams);\n        } else {\n          this._action(current.params, current.queryParams, this._currentData);\n        }\n      } else {\n        this._action(current.params, current.queryParams, this._currentData);\n      }\n    }\n\n    return callAction;\n  }();\n\n  _proto.callSubscriptions = function () {\n    function callSubscriptions(current) {\n      this.clearSubscriptions();\n\n      if (this.group) {\n        this.group.callSubscriptions(current);\n      }\n\n      this._subscriptions(current.params, current.queryParams);\n    }\n\n    return callSubscriptions;\n  }();\n\n  _proto.getRouteName = function () {\n    function getRouteName() {\n      this._routeCloseDep.depend();\n\n      return this.name;\n    }\n\n    return getRouteName;\n  }();\n\n  _proto.getParam = function () {\n    function getParam(key) {\n      this._routeCloseDep.depend();\n\n      return this._params.get(key);\n    }\n\n    return getParam;\n  }();\n\n  _proto.getQueryParam = function () {\n    function getQueryParam(key) {\n      this._routeCloseDep.depend();\n\n      return this._queryParams.get(key);\n    }\n\n    return getQueryParam;\n  }();\n\n  _proto.watchPathChange = function () {\n    function watchPathChange() {\n      this._pathChangeDep.depend();\n    }\n\n    return watchPathChange;\n  }();\n\n  _proto.registerRouteClose = function () {\n    function registerRouteClose() {\n      this._params = new ReactiveDict();\n      this._queryParams = new ReactiveDict();\n\n      this._routeCloseDep.changed();\n\n      this._pathChangeDep.changed();\n    }\n\n    return registerRouteClose;\n  }();\n\n  _proto.registerRouteChange = function () {\n    function registerRouteChange(currentContext, routeChanging) {\n      // register params\n      this._updateReactiveDict(this._params, currentContext.params); // register query params\n\n\n      this._updateReactiveDict(this._queryParams, currentContext.queryParams); // if the route is changing, we need to defer triggering path changing\n      // if we did this, old route's path watchers will detect this\n      // Real issue is, above watcher will get removed with the new route\n      // So, we don't need to trigger it now\n      // We are doing it on the route close event. So, if they exists they'll\n      // get notify that\n\n\n      if (!routeChanging) {\n        this._pathChangeDep.changed();\n      }\n    }\n\n    return registerRouteChange;\n  }();\n\n  _proto._updateReactiveDict = function () {\n    function _updateReactiveDict(dict, newValues) {\n      var currentKeys = Object.keys(newValues);\n      var oldKeys = Object.keys(dict.keyDeps); // set new values\n      //  params is an array. So, currentKeys.forEach() does not works\n      //  to iterate params\n\n      currentKeys.forEach(function (key) {\n        dict.set(key, newValues[key]);\n      }); // remove keys which does not exisits here\n\n      oldKeys.filter(function (i) {\n        return currentKeys.indexOf(i) < 0;\n      }).forEach(function (key) {\n        dict.set(key, undefined);\n      });\n    }\n\n    return _updateReactiveDict;\n  }();\n\n  return Route;\n}();\n\nmodule.exportDefault(Route);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"router.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/router.js                                                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _createClass;\n\nmodule.link(\"@babel/runtime/helpers/createClass\", {\n  default: function (v) {\n    _createClass = v;\n  }\n}, 0);\nvar FlowRouter, Route, Group, Triggers, BlazeRenderer;\nmodule.link(\"./_init.js\", {\n  FlowRouter: function (v) {\n    FlowRouter = v;\n  },\n  Route: function (v) {\n    Route = v;\n  },\n  Group: function (v) {\n    Group = v;\n  },\n  Triggers: function (v) {\n    Triggers = v;\n  },\n  BlazeRenderer: function (v) {\n    BlazeRenderer = v;\n  }\n}, 0);\nvar EJSON;\nmodule.link(\"meteor/ejson\", {\n  EJSON: function (v) {\n    EJSON = v;\n  }\n}, 1);\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 2);\nvar Tracker;\nmodule.link(\"meteor/tracker\", {\n  Tracker: function (v) {\n    Tracker = v;\n  }\n}, 3);\n\nvar _helpers;\n\nmodule.link(\"./../lib/_helpers.js\", {\n  _helpers: function (v) {\n    _helpers = v;\n  }\n}, 4);\nvar page, qs;\nmodule.link(\"./modules.js\", {\n  page: function (v) {\n    page = v;\n  },\n  qs: function (v) {\n    qs = v;\n  }\n}, 5);\n\n// let isNavigating = false;\nvar Router = /*#__PURE__*/function () {\n  function Router() {\n    var _this = this;\n\n    this.pathRegExp = /(:[\\w\\(\\)\\\\\\+\\*\\.\\?\\[\\]\\-]+)+/g;\n    this.queryRegExp = /\\?([^\\/\\r\\n].*)/;\n    this.globals = [];\n    this.subscriptions = Function.prototype;\n    this.Renderer = new BlazeRenderer({\n      router: this\n    });\n    this._tracker = this._buildTracker();\n    this._current = {};\n    this._specialChars = ['/', '%', '+'];\n\n    this._encodeParam = function (param) {\n      var paramArr = param.split('');\n      var _param = '';\n\n      for (var i = 0; i < paramArr.length; i++) {\n        if (_this._specialChars.includes(paramArr[i])) {\n          _param += encodeURIComponent(encodeURIComponent(paramArr[i]));\n        } else {\n          try {\n            _param += encodeURIComponent(paramArr[i]);\n          } catch (e) {\n            _param += paramArr[i];\n          }\n        }\n      }\n\n      return _param;\n    }; // tracks the current path change\n\n\n    this._onEveryPath = new Tracker.Dependency();\n    this._globalRoute = new Route(this); // holds onRoute callbacks\n\n    this._onRouteCallbacks = []; // if _askedToWait is true. We don't automatically start the router\n    // in Meteor.startup callback. (see client/_init.js)\n    // Instead user need to call `.initialize()\n\n    this._askedToWait = false;\n    this._initialized = false;\n    this._triggersEnter = [];\n    this._triggersExit = [];\n    this._routes = [];\n    this._routesMap = {};\n\n    this._updateCallbacks();\n\n    this._notFound = null;\n    this.notfound = this.notFound; // indicate it's okay (or not okay) to run the tracker\n    // when doing subscriptions\n    // using a number and increment it help us to support FlowRouter.go()\n    // and legitimate reruns inside tracker on the same event loop.\n    // this is a solution for #145\n\n    this.safeToRun = 0; // Meteor exposes to the client the path prefix that was defined using the\n    // ROOT_URL environement variable on the server using the global runtime\n    // configuration. See #315.\n\n    this._basePath = window.__meteor_runtime_config__.ROOT_URL_PATH_PREFIX || ''; // this is a chain contains a list of old routes\n    // most of the time, there is only one old route\n    // but when it's the time for a trigger redirect we've a chain\n\n    this._oldRouteChain = [];\n    this.env = {\n      replaceState: new Meteor.EnvironmentVariable(),\n      reload: new Meteor.EnvironmentVariable(),\n      trailingSlash: new Meteor.EnvironmentVariable()\n    }; // Implementing Reactive APIs\n\n    var reactiveApis = ['getParam', 'getQueryParam', 'getRouteName', 'watchPathChange'];\n    reactiveApis.forEach(function (api) {\n      _this[api] = function (arg1) {\n        // when this is calling, there may not be any route initiated\n        // so we need to handle it\n        var currentRoute = this._current.route;\n\n        if (!currentRoute) {\n          this._onEveryPath.depend();\n\n          return void 0;\n        } // currently, there is only one argument. If we've more let's add more args\n        // this is not clean code, but better in performance\n\n\n        return currentRoute[api].call(currentRoute, arg1);\n      };\n    }); // redirect function used inside triggers\n\n    this._redirectFn = function (pathDef, fields, queryParams) {\n      if (/^http(s)?:\\/\\//.test(pathDef)) {\n        throw new Error(\"Redirects to URLs outside of the app are not supported in this version of Flow Router. Use 'window.location = yourUrl' instead\");\n      }\n\n      _this.withReplaceState(function () {\n        _this._page.redirect(FlowRouter.path(pathDef, fields, queryParams));\n      });\n    };\n\n    this._initTriggersAPI();\n  }\n\n  var _proto = Router.prototype;\n\n  _proto.route = function () {\n    function route(pathDef) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var group = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (!/^\\//.test(pathDef) && pathDef !== '*') {\n        throw new Error(\"route's path must start with '/'\");\n      }\n\n      var route = new Route(this, pathDef, options, group); // calls when the page route being activates\n\n      route._actionHandle = function (context) {\n        // if (isNavigating) {\n        //   return;\n        // }\n        // isNavigating = true;\n        var oldRoute = _this2._current.route;\n\n        _this2._oldRouteChain.push(oldRoute); // _qs.parse() gives us a object without prototypes,\n        // created with Object.create(null)\n        // Meteor's check doesn't play nice with it.\n        // So, we need to fix it by cloning it.\n        // see more: https://github.com/meteorhacks/flow-router/issues/164\n        // In addition to the above, query params also inappropriately\n        // get decoded twice. The ternary below fixes this bug if the\n        // \"decodeQueryParamsOnce\" option is set to true, so that we\n        // don't break legacy applications. The \"example.com\" domain\n        // below is insignificant but only used to create a URL object\n        // from which we can parse out query params reliably from the\n        // still-encoded path instead of the prematurely decoded\n        // querystring.\n        // See: https://github.com/veliovgroup/flow-router/issues/78\n\n\n        var queryParams = _this2._qs.parse(_this2.decodeQueryParamsOnce ? new URL(context.path, 'http://example.com').searchParams.toString() : context.querystring);\n\n        _this2._current = {\n          path: context.path,\n          params: context.params,\n          route: route,\n          context: context,\n          oldRoute: oldRoute,\n          queryParams: queryParams\n        }; // we need to invalidate if all the triggers have been completed\n        // if not that means, we've been redirected to another path\n        // then we don't need to invalidate\n\n        var afterAllTriggersRan = function () {\n          // isNavigating = false;\n          _this2._invalidateTracker();\n        };\n\n        route.waitOn(_this2._current, function (current, data) {\n          Triggers.runTriggers(_this2._triggersEnter.concat(route._triggersEnter), _this2._current, _this2._redirectFn, afterAllTriggersRan, data);\n        });\n      }; // calls when you exit from the page js route\n\n\n      route._exitHandle = function (context, next) {\n        Triggers.runTriggers(_this2._triggersExit.concat(route._triggersExit), _this2._current, _this2._redirectFn, next);\n      };\n\n      this._routes.push(route);\n\n      if (options.name) {\n        this._routesMap[options.name] = route;\n      }\n\n      this._updateCallbacks();\n\n      this._triggerRouteRegister(route);\n\n      return route;\n    }\n\n    return route;\n  }();\n\n  _proto.group = function () {\n    function group(options) {\n      return new Group(this, options);\n    }\n\n    return group;\n  }();\n\n  _proto.path = function () {\n    function path(_pathDef) {\n      var _this3 = this;\n\n      var fields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _queryParams = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var pathDef = _pathDef || '';\n      var queryParams = _queryParams;\n\n      if (this._routesMap[pathDef]) {\n        pathDef = _helpers.clone(this._routesMap[pathDef].pathDef);\n      }\n\n      if (this.queryRegExp.test(pathDef)) {\n        var pathDefParts = pathDef.split(this.queryRegExp);\n        pathDef = pathDefParts[0];\n\n        if (pathDefParts[1]) {\n          queryParams = Object.assign(this._qs.parse(pathDefParts[1]), queryParams);\n        }\n      }\n\n      var path = ''; // Prefix the path with the router global prefix\n\n      if (this._basePath) {\n        path += \"/\" + this._basePath + \"/\";\n      }\n\n      path += pathDef.replace(this.pathRegExp, function (_key) {\n        var firstRegexpChar = _key.indexOf('('); // get the content behind : and (\\\\d+/)\n\n\n        var key = _key.substring(1, firstRegexpChar > 0 ? firstRegexpChar : undefined); // remove +?*\n\n\n        key = key.replace(/[\\+\\*\\?]+/g, ''); // this is to allow page js to keep the custom characters as it is\n        // we need to encode 2 times otherwise \"/\" char does not work properly\n        // So, in that case, when I includes \"/\" it will think it's a part of the\n        // route. encoding 2times fixes it\n\n        if (fields[key]) {\n          return _this3._encodeParam(\"\" + fields[key]);\n        }\n\n        return '';\n      }); // Replace multiple slashes with single slash\n\n      path = path.replace(/\\/\\/+/g, '/'); // remove trailing slash\n      // but keep the root slash if it's the only one\n\n      path = path.match(/^\\/{1}$/) ? path : path.replace(/\\/$/, ''); // explicitly asked to add a trailing slash\n\n      if (this.env.trailingSlash.get() && path[path.length - 1] !== '/') {\n        path += '/';\n      }\n\n      var strQueryParams = this._qs.stringify(queryParams || {});\n\n      if (strQueryParams) {\n        path += \"?\" + strQueryParams;\n      }\n\n      path = path.replace(/\\/\\/+/g, '/');\n      return path;\n    }\n\n    return path;\n  }();\n\n  _proto.go = function () {\n    function go(pathDef, fields, queryParams) {\n      // if (isNavigating) {\n      //   return;\n      // }\n      var path = this.path(pathDef, fields, queryParams);\n\n      if (!this.env.reload.get() && path === this._current.path) {\n        return;\n      } // THIS DESCISION ISN'T CLEAR\n      // WE SHOULD AVOID .go() METHOD\n      // IF WE ARE CURRETLY NAVIGATING\n      // BUT AT THE SAME TIME IT MAY BREAK\n      // REDIRECTS AND MORE COMPLEX LOGIC\n      // SO WE WILL LEAVE IT COMMENTED AND\n      // AS IT IS FOR NOW TO AVOID COMPATIBILITY ISSUES\n      // SEARCH FOR `isNavigating` VARIABLE ACROSS THIS\n      // FILE TO LEARN MORE.\n      // OH... CLIENT-SIDE NAVIGATION AIN'T SIMPLE THING\n      // isNavigating = true;\n\n\n      try {\n        if (this.env.replaceState.get()) {\n          this._page.replace(path);\n        } else {\n          this._page(path);\n        }\n      } catch (e) {\n        Meteor._debug('Malformed URI!', path, e);\n      }\n    }\n\n    return go;\n  }();\n\n  _proto.reload = function () {\n    function reload() {\n      var _this4 = this;\n\n      this.env.reload.withValue(true, function () {\n        _this4._page.replace(_this4._current.path);\n      });\n    }\n\n    return reload;\n  }();\n\n  _proto.redirect = function () {\n    function redirect(path) {\n      this._page.redirect(path);\n    }\n\n    return redirect;\n  }();\n\n  _proto.setParams = function () {\n    function setParams(newParams) {\n      if (!this._current.route) {\n        return false;\n      }\n\n      var pathDef = this._current.route.pathDef;\n      var existingParams = this._current.params;\n      var params = {};\n      Object.keys(existingParams).forEach(function (key) {\n        params[key] = existingParams[key];\n      });\n      params = _helpers.extend(params, newParams);\n      var queryParams = this._current.queryParams;\n      this.go(pathDef, params, queryParams);\n      return true;\n    }\n\n    return setParams;\n  }();\n\n  _proto.setQueryParams = function () {\n    function setQueryParams(newParams) {\n      if (!this._current.route) {\n        return false;\n      }\n\n      var queryParams = _helpers.extend(_helpers.clone(this._current.queryParams), newParams);\n\n      for (var k in meteorBabelHelpers.sanitizeForInObject(queryParams)) {\n        if (queryParams[k] === null || queryParams[k] === undefined) {\n          delete queryParams[k];\n        }\n      }\n\n      var pathDef = this._current.route.pathDef;\n      var params = this._current.params;\n      this.go(pathDef, params, queryParams);\n      return true;\n    }\n\n    return setQueryParams;\n  }() // .current is not reactive\n  // This is by design. use .getParam() instead\n  // If you really need to watch the path change, use .watchPathChange()\n  ;\n\n  _proto.current = function () {\n    function current() {\n      // We can't trust outside, that's why we clone this\n      // Anyway, we can't clone the whole object since it has non-jsonable values\n      // That's why we clone what's really needed.\n      var current = _helpers.clone(this._current);\n\n      current.queryParams = EJSON.clone(current.queryParams);\n      current.params = EJSON.clone(current.params);\n      return current;\n    }\n\n    return current;\n  }();\n\n  _proto.track = function () {\n    function track(reactiveMapper) {\n      return function (props, onData, env) {\n        var trackerCleanup = null;\n        var handler = Tracker.nonreactive(function () {\n          return Tracker.autorun(function () {\n            trackerCleanup = reactiveMapper(props, onData, env);\n          });\n        });\n        return function () {\n          if (typeof trackerCleanup === 'function') {\n            trackerCleanup();\n          }\n\n          return handler.stop();\n        };\n      };\n    }\n\n    return track;\n  }();\n\n  _proto.mapper = function () {\n    function mapper(props, onData, env) {\n      if (typeof onData === 'function') {\n        onData(null, {\n          route: this.current(),\n          props: props,\n          env: env\n        });\n      }\n    }\n\n    return mapper;\n  }();\n\n  _proto.trackMapper = function () {\n    function trackMapper() {\n      return this.track(this.mapper);\n    }\n\n    return trackMapper;\n  }();\n\n  _proto.subsReady = function () {\n    function subsReady() {\n      var callback = null;\n      var args = Array.from(arguments);\n\n      if (typeof args[args.length - 1] === 'function') {\n        callback = args.pop();\n      }\n\n      var currentRoute = this.current().route;\n      var globalRoute = this._globalRoute; // we need to depend for every route change and\n      // rerun subscriptions to check the ready state\n\n      this._onEveryPath.depend();\n\n      if (!currentRoute) {\n        return false;\n      }\n\n      var subscriptions;\n\n      if (args.length === 0) {\n        subscriptions = Object.values(globalRoute.getAllSubscriptions());\n        subscriptions = subscriptions.concat(Object.values(currentRoute.getAllSubscriptions()));\n      } else {\n        subscriptions = args.map(function (subName) {\n          return globalRoute.getSubscription(subName) || currentRoute.getSubscription(subName);\n        });\n      }\n\n      var isReady = function () {\n        var ready = subscriptions.every(function (sub) {\n          return sub && sub.ready();\n        });\n        return ready;\n      };\n\n      if (callback) {\n        Tracker.autorun(function (c) {\n          if (isReady()) {\n            callback();\n            c.stop();\n          }\n        });\n        return true;\n      }\n\n      return isReady();\n    }\n\n    return subsReady;\n  }();\n\n  _proto.withReplaceState = function () {\n    function withReplaceState(fn) {\n      return this.env.replaceState.withValue(true, fn);\n    }\n\n    return withReplaceState;\n  }();\n\n  _proto.withTrailingSlash = function () {\n    function withTrailingSlash(fn) {\n      return this.env.trailingSlash.withValue(true, fn);\n    }\n\n    return withTrailingSlash;\n  }();\n\n  _proto.initialize = function () {\n    function initialize() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (this._initialized) {\n        throw new Error('FlowRouter is already initialized');\n      }\n\n      var self = this;\n\n      this._updateCallbacks(); // Implementing idempotent routing\n      // by overriding page.js`s \"show\" method.\n      // Why?\n      // It is impossible to bypass exit triggers,\n      // because they execute before the handler and\n      // can not know what the next path is, inside exit trigger.\n      //\n      // we need override both show, replace to make this work\n      // since we use redirect when we are talking about withReplaceState\n\n\n      ['show', 'replace'].forEach(function (fnName) {\n        var original = self._page[fnName];\n\n        self._page[fnName] = function (path, state, dispatch, push) {\n          if (!path || !self.env.reload.get() && self._current.path === path) {\n            return;\n          }\n\n          original.call(self, path.replace(/\\/\\/+/g, '/'), state, dispatch, push);\n        };\n      }); // this is very ugly part of pagejs and it does decoding few times\n      // in unpredicatable manner. See #168\n      // this is the default behaviour and we need keep it like that\n      // we are doing a hack. see .path()\n\n      this._page.base(this._basePath);\n\n      var pageOptions = Object.assign({\n        click: true,\n        popstate: true,\n        // dispatch: false, // not supported by FlowRouter\n        hashbang: !!options.hashbang,\n        decodeURLComponents: true,\n        window: window\n      }, options.page || {});\n\n      this._page.call(void 0, pageOptions);\n\n      this._initialized = true;\n    }\n\n    return initialize;\n  }();\n\n  _proto._buildTracker = function () {\n    function _buildTracker() {\n      var _this5 = this;\n\n      // main autorun function\n      var tracker = Tracker.autorun(function () {\n        if (!_this5._current || !_this5._current.route) {\n          return;\n        } // see the definition of `this._processingContexts`\n\n\n        var currentContext = _this5._current;\n        var route = currentContext.route;\n        var path = currentContext.path;\n\n        if (_this5.safeToRun === 0) {\n          throw new Error(\"You can't use reactive data sources like Session inside the `.subscriptions` method!\");\n        } // We need to run subscriptions inside a Tracker\n        // to stop subs when switching between routes\n        // But we don't need to run this tracker with\n        // other reactive changes inside the .subscription method\n        // We tackle this with the `safeToRun` variable\n\n\n        _this5._globalRoute.clearSubscriptions();\n\n        _this5.subscriptions.call(_this5._globalRoute, path);\n\n        route.callSubscriptions(currentContext); // otherwise, computations inside action will trigger to re-run\n        // this computation. which we do not need.\n\n        Tracker.nonreactive(function () {\n          var isRouteChange = currentContext.oldRoute !== currentContext.route; // first route is not a route change\n\n          if (!currentContext.oldRoute) {\n            isRouteChange = false;\n          } // Clear oldRouteChain just before calling the action\n          // We still need to get a copy of the oldestRoute first\n          // It's very important to get the oldest route and registerRouteClose() it\n          // See: https://github.com/kadirahq/flow-router/issues/314\n\n\n          var oldestRoute = _this5._oldRouteChain[0];\n          _this5._oldRouteChain = [];\n          currentContext.route.registerRouteChange(currentContext, isRouteChange);\n          route.callAction(currentContext);\n          Tracker.afterFlush(function () {\n            _this5._onEveryPath.changed();\n\n            if (isRouteChange) {\n              // We need to trigger that route (definition itself) has changed.\n              // So, we need to re-run all the register callbacks to current route\n              // This is pretty important, otherwise tracker\n              // can't identify new route's items\n              // We also need to afterFlush, otherwise this will re-run\n              // helpers on templates which are marked for destroying\n              if (oldestRoute && oldestRoute.registerRouteClose) {\n                oldestRoute.registerRouteClose();\n              }\n            }\n          });\n        });\n        _this5.safeToRun--;\n      });\n      return tracker;\n    }\n\n    return _buildTracker;\n  }();\n\n  _proto._invalidateTracker = function () {\n    function _invalidateTracker() {\n      var _this6 = this;\n\n      this.safeToRun++;\n\n      this._tracker.invalidate(); // After the invalidation we need to flush to make changes immediately\n      // otherwise, we have face some issues context mix-matches and so on.\n      // But there are some cases we can't flush. So we need to ready for that.\n      // we clearly know, we can't flush inside an autorun\n      // this may leads some issues on flow-routing\n      // we may need to do some warning\n\n\n      if (!Tracker.currentComputation) {\n        // Still there are some cases where we can't flush\n        //  eg:- when there is a flush currently\n        // But we've no public API or hacks to get that state\n        // So, this is the only solution\n        try {\n          Tracker.flush();\n        } catch (ex) {\n          // only handling \"while flushing\" errors\n          if (!/Tracker\\.flush while flushing/.test(ex.message)) {\n            return;\n          } // XXX: fix this with a proper solution by removing subscription mgt.\n          // from the router. Then we don't need to run invalidate using a tracker\n          // this happens when we are trying to invoke a route change\n          // with inside a route change. (eg:- Template.onCreated)\n          // Since we use page.js and tracker, we don't have much control\n          // over this process.\n          // only solution is to defer route execution.\n          // It's possible to have more than one path want to defer\n          // But, we only need to pick the last one.\n          // self._nextPath = self._current.path;\n\n\n          Meteor.defer(function () {\n            var path = _this6._nextPath;\n\n            if (!path) {\n              return;\n            }\n\n            delete _this6._nextPath;\n\n            _this6.env.reload.withValue(true, function () {\n              _this6.go(path);\n            });\n          });\n        }\n      }\n    }\n\n    return _invalidateTracker;\n  }();\n\n  _proto._updateCallbacks = function () {\n    function _updateCallbacks() {\n      var _this7 = this;\n\n      this._page.callbacks = [];\n      this._page.exits = [];\n      var catchAll = null;\n\n      this._routes.forEach(function (route) {\n        if (route.pathDef === '*') {\n          catchAll = route;\n        } else {\n          _this7._page(route.pathDef, route._actionHandle);\n\n          _this7._page.exit(route.pathDef, route._exitHandle);\n        }\n      }); // Setting exit triggers on catch all routes leads to weird behavior.\n      // We recommend to avoid enter and exit triggers on catch all (`*`) routes.\n      // Use FlowRouter.triggers.exit([func]) and FlowRouter.triggers.enter([func]) instead\n\n\n      if (catchAll) {\n        this._page(catchAll.pathDef, catchAll._actionHandle); // this._page.exit(catchAll.pathDef, catchAll._exitHandle);\n\n      }\n    }\n\n    return _updateCallbacks;\n  }();\n\n  _proto._initTriggersAPI = function () {\n    function _initTriggersAPI() {\n      var self = this;\n      this.triggers = {\n        enter: function (_triggers, filter) {\n          var triggers = Triggers.applyFilters(_triggers, filter);\n\n          if (triggers.length) {\n            self._triggersEnter = self._triggersEnter.concat(triggers);\n          }\n        },\n        exit: function (_triggers, filter) {\n          var triggers = Triggers.applyFilters(_triggers, filter);\n\n          if (triggers.length) {\n            self._triggersExit = self._triggersExit.concat(triggers);\n          }\n        }\n      };\n    }\n\n    return _initTriggersAPI;\n  }();\n\n  _proto.wait = function () {\n    function wait() {\n      if (this._initialized) {\n        throw new Error(\"can't wait after FlowRouter has been initialized\");\n      }\n\n      this._askedToWait = true;\n    }\n\n    return wait;\n  }();\n\n  _proto.onRouteRegister = function () {\n    function onRouteRegister(cb) {\n      this._onRouteCallbacks.push(cb);\n    }\n\n    return onRouteRegister;\n  }();\n\n  _proto._triggerRouteRegister = function () {\n    function _triggerRouteRegister(currentRoute) {\n      // We should only need to send a safe set of fields on the route\n      // object.\n      // This is not to hide what's inside the route object, but to show\n      // these are the public APIs\n      var routePublicApi = _helpers.pick(currentRoute, ['name', 'pathDef', 'path']);\n\n      routePublicApi.options = _helpers.omit(currentRoute.options, ['triggersEnter', 'triggersExit', 'action', 'subscriptions', 'name']);\n\n      this._onRouteCallbacks.forEach(function (cb) {\n        cb(routePublicApi);\n      });\n    }\n\n    return _triggerRouteRegister;\n  }();\n\n  _proto.url = function () {\n    function url() {\n      // We need to remove the leading base path, or \"/\", as it will be inserted\n      // automatically by `Meteor.absoluteUrl` as documented in:\n      // http://docs.meteor.com/#/full/meteor_absoluteurl\n      return Meteor.absoluteUrl(this.path.apply(this, arguments).replace(new RegExp('^' + (\"/\" + (this._basePath || '') + \"/\").replace(/\\/\\/+/g, '/')), ''));\n    }\n\n    return url;\n  }();\n\n  _createClass(Router, [{\n    key: \"notFound\",\n    get: function () {\n      return this._notFound;\n    },\n    set: function (opts) {\n      Meteor._debug('FlowRouter.notFound is deprecated, use FlowRouter.route(\\'*\\', { /*...*/ }) instead!');\n\n      opts.name = opts.name || '__notFound';\n      this._notFound = this.route('*', opts);\n    }\n  }, {\n    key: \"_page\",\n    get: function () {\n      return page;\n    }\n  }, {\n    key: \"_qs\",\n    get: function () {\n      return qs;\n    }\n  }]);\n\n  return Router;\n}();\n\nmodule.exportDefault(Router);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"triggers.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/client/triggers.js                                                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n// a set of utility functions for triggers\nvar Triggers = {}; // Apply filters for a set of triggers\n// @triggers - a set of triggers\n// @filter - filter with array fields with `only` and `except`\n//           support only either `only` or `except`, but not both\n\nTriggers.applyFilters = function (_triggers, filter) {\n  var triggers = _triggers;\n\n  if (!(triggers instanceof Array)) {\n    triggers = [triggers];\n  }\n\n  if (!filter) {\n    return triggers;\n  }\n\n  if (filter.only && filter.except) {\n    throw new Error('Triggers don\\'t support only and except filters at once');\n  }\n\n  if (filter.only && !(filter.only instanceof Array)) {\n    throw new Error('only filters needs to be an array');\n  }\n\n  if (filter.except && !(filter.except instanceof Array)) {\n    throw new Error('except filters needs to be an array');\n  }\n\n  if (filter.only) {\n    return Triggers.createRouteBoundTriggers(triggers, filter.only);\n  }\n\n  if (filter.except) {\n    return Triggers.createRouteBoundTriggers(triggers, filter.except, true);\n  }\n\n  throw new Error('Provided a filter but not supported');\n}; //  create triggers by bounding them to a set of route names\n//  @triggers - a set of triggers\n//  @names - list of route names to be bound (trigger runs only for these names)\n//  @negate - negate the result (triggers won't run for above names)\n\n\nTriggers.createRouteBoundTriggers = function (triggers, names, negate) {\n  var namesMap = {};\n  names.forEach(function (name) {\n    namesMap[name] = true;\n  });\n  var filteredTriggers = triggers.map(function (originalTrigger) {\n    var modifiedTrigger = function (context, next) {\n      var matched = namesMap[context.route.name] ? 1 : -1;\n      matched = negate ? matched * -1 : matched;\n\n      if (matched === 1) {\n        originalTrigger(context, next);\n      }\n    };\n\n    return modifiedTrigger;\n  });\n  return filteredTriggers;\n}; //  run triggers and abort if redirected or callback stopped\n//  @triggers - a set of triggers\n//  @context - context we need to pass (it must have the route)\n//  @redirectFn - function which used to redirect\n//  @after - called after if only all the triggers runs\n\n\nTriggers.runTriggers = function (triggers, context, redirectFn, after, data) {\n  var abort = false;\n  var inCurrentLoop = true;\n  var alreadyRedirected = false;\n\n  var doRedirect = function (url, params, queryParams) {\n    if (alreadyRedirected) {\n      throw new Error('already redirected');\n    }\n\n    if (!inCurrentLoop) {\n      throw new Error('redirect needs to be done in sync');\n    }\n\n    if (!url) {\n      throw new Error('trigger redirect requires an URL');\n    }\n\n    abort = true;\n    alreadyRedirected = true;\n    redirectFn(url, params, queryParams);\n  };\n\n  var doStop = function () {\n    abort = true;\n  };\n\n  for (var lc = 0; lc < triggers.length; lc++) {\n    triggers[lc](context, doRedirect, doStop, data);\n\n    if (abort) {\n      return;\n    }\n  } // mark that, we've exceeds the currentEventloop for\n  // this set of triggers.\n\n\n  inCurrentLoop = false;\n  after();\n};\n\nmodule.exportDefault(Triggers);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"lib\":{\"_helpers.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/ostrio_flow-router-extra/lib/_helpers.js                                                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _typeof;\n\nmodule.link(\"@babel/runtime/helpers/typeof\", {\n  default: function (v) {\n    _typeof = v;\n  }\n}, 0);\nmodule.export({\n  _helpers: function () {\n    return _helpers;\n  }\n});\nvar Meteor;\nmodule.link(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar _helpers = {\n  isEmpty: function (obj) {\n    // 1\n    if (obj == null) {\n      return true;\n    }\n\n    if (this.isArray(obj) || this.isString(obj) || this.isArguments(obj)) {\n      return obj.length === 0;\n    }\n\n    return Object.keys(obj).length === 0;\n  },\n  isObject: function (obj) {\n    var type = _typeof(obj);\n\n    return type === 'function' || type === 'object' && !!obj;\n  },\n  omit: function (obj, keys) {\n    // 10\n    if (!this.isObject(obj)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] First argument must be an Object');\n\n      return obj;\n    }\n\n    if (!this.isArray(keys)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] Second argument must be an Array');\n\n      return obj;\n    }\n\n    var copy = this.clone(obj);\n    keys.forEach(function (key) {\n      delete copy[key];\n    });\n    return copy;\n  },\n  pick: function (obj, keys) {\n    // 2\n    if (!this.isObject(obj)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] First argument must be an Object');\n\n      return obj;\n    }\n\n    if (!this.isArray(keys)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] Second argument must be an Array');\n\n      return obj;\n    }\n\n    var picked = {};\n    keys.forEach(function (key) {\n      picked[key] = obj[key];\n    });\n    return picked;\n  },\n  isArray: function (obj) {\n    return Array.isArray(obj);\n  },\n  extend: function () {\n    for (var _len = arguments.length, objs = new Array(_len), _key = 0; _key < _len; _key++) {\n      objs[_key] = arguments[_key];\n    }\n\n    // 4\n    return Object.assign.apply(Object, [{}].concat(objs));\n  },\n  clone: function (obj) {\n    if (!this.isObject(obj)) return obj;\n    return this.isArray(obj) ? obj.slice() : this.extend(obj);\n  }\n};\n['Arguments', 'Function', 'String', 'RegExp'].forEach(function (name) {\n  _helpers['is' + name] = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object ' + name + ']';\n  };\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"node_modules\":{\"page\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/page/package.json                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"page\",\n  \"version\": \"1.9.0\",\n  \"browser\": \"page.js\",\n  \"main\": \"index.js\",\n  \"module\": \"page.mjs\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"page.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/page/page.js                                              //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.page = factory());\n}(this, (function () { 'use strict';\n\nvar isarray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var suffix = res[6];\n    var asterisk = res[7];\n\n    var repeat = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n    var delimiter = prefix || '/';\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?');\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$');\n    }\n  }\n\n  return function (obj) {\n    var path = '';\n    var data = obj || {};\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path);\n  var re = tokensToRegExp(tokens, options);\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i]);\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n  var lastToken = tokens[tokens.length - 1];\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken);\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = token.pattern;\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isarray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n   * Module dependencies.\n   */\n\n  \n\n  /**\n   * Module exports.\n   */\n\n  var page_js = page;\n  page.default = page;\n  page.Context = Context;\n  page.Route = Route;\n  page.sameOrigin = sameOrigin;\n\n  /**\n   * Short-cuts for global-object checks\n   */\n\n  var hasDocument = ('undefined' !== typeof document);\n  var hasWindow = ('undefined' !== typeof window);\n  var hasHistory = ('undefined' !== typeof history);\n  var hasProcess = typeof process !== 'undefined';\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = hasDocument && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var isLocation = hasWindow && !!(window.history.location || window.location);\n\n  /**\n   * Perform initial dispatch.\n   */\n\n  var dispatch = true;\n\n\n  /**\n   * Decode URL components (query string, pathname, hash).\n   * Accommodates both regular percent encoding and x-www-form-urlencoded format.\n   */\n  var decodeURLComponents = true;\n\n  /**\n   * Base path.\n   */\n\n  var base = '';\n\n  /**\n   * Strict path matching.\n   */\n\n  var strict = false;\n\n  /**\n   * Running flag.\n   */\n\n  var running;\n\n  /**\n   * HashBang option\n   */\n\n  var hashbang = false;\n\n  /**\n   * Previous context, for capturing\n   * page exit events.\n   */\n\n  var prevContext;\n\n  /**\n   * The window for which this `page` is running\n   */\n  var pageWindow;\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page('*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path));\n      for (var i = 1; i < arguments.length; ++i) {\n        page.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      page['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      page.start(path);\n    }\n  }\n\n  /**\n   * Callback functions.\n   */\n\n  page.callbacks = [];\n  page.exits = [];\n\n  /**\n   * Current path being processed\n   * @type {string}\n   */\n  page.current = '';\n\n  /**\n   * Number of pages navigated to.\n   * @type {number}\n   *\n   *     page.len == 0;\n   *     page('/login');\n   *     page.len == 1;\n   */\n\n  page.len = 0;\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  page.base = function(path) {\n    if (0 === arguments.length) return base;\n    base = path;\n  };\n\n  /**\n   * Get or set strict path matching to `enable`\n   *\n   * @param {boolean} enable\n   * @api public\n   */\n\n  page.strict = function(enable) {\n    if (0 === arguments.length) return strict;\n    strict = enable;\n  };\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  page.start = function(options) {\n    options = options || {};\n    if (running) return;\n    running = true;\n    pageWindow = options.window || (hasWindow && window);\n    if (false === options.dispatch) dispatch = false;\n    if (false === options.decodeURLComponents) decodeURLComponents = false;\n    if (false !== options.popstate && hasWindow) pageWindow.addEventListener('popstate', onpopstate, false);\n    if (false !== options.click && hasDocument) {\n      pageWindow.document.addEventListener(clickEvent, onclick, false);\n    }\n    hashbang = !!options.hashbang;\n    if(hashbang && hasWindow && !hasHistory) {\n      pageWindow.addEventListener('hashchange', onpopstate, false);\n    }\n    if (!dispatch) return;\n\n    var url;\n    if(isLocation) {\n      var loc = pageWindow.location;\n\n      if(hashbang && ~loc.hash.indexOf('#!')) {\n        url = loc.hash.substr(2) + loc.search;\n      } else if (hashbang) {\n        url = loc.search + loc.hash;\n      } else {\n        url = loc.pathname + loc.search + loc.hash;\n      }\n    }\n\n    page.replace(url, null, true, dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  page.stop = function() {\n    if (!running) return;\n    page.current = '';\n    page.len = 0;\n    running = false;\n    hasDocument && pageWindow.document.removeEventListener(clickEvent, onclick, false);\n    hasWindow && pageWindow.removeEventListener('popstate', onpopstate, false);\n    hasWindow && pageWindow.removeEventListener('hashchange', onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  page.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state),\n      prev = prevContext;\n    prevContext = ctx;\n    page.current = ctx.path;\n    if (false !== dispatch) page.dispatch(ctx, prev);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  page.back = function(path, state) {\n    if (page.len > 0) {\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      hasHistory && pageWindow.history.back();\n      page.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    }else{\n      setTimeout(function() {\n        page.show(getBase(), state);\n      });\n    }\n  };\n\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  page.redirect = function(from, to) {\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page(from, function(e) {\n        setTimeout(function() {\n          page.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        page.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  page.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state),\n      prev = prevContext;\n    prevContext = ctx;\n    page.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) page.dispatch(ctx, prev);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  page.dispatch = function(ctx, prev) {\n    var i = 0,\n      j = 0;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled(ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n\n    if (hashbang) {\n      current = isLocation && getBase() + pageWindow.location.hash.replace('#!', '');\n    } else {\n      current = isLocation && pageWindow.location.pathname + pageWindow.location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    isLocation && (pageWindow.location.href = ctx.canonicalPath);\n  }\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  page.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return page.exit('*', path);\n    }\n\n    var route = new Route(path);\n    for (var i = 1; i < arguments.length; ++i) {\n      page.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   */\n  function decodeURLEncodedURIComponent(val) {\n    if (typeof val !== 'string') { return val; }\n    return decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state) {\n    var pageBase = getBase();\n    if ('/' === path[0] && 0 !== path.indexOf(pageBase)) path = pageBase + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(pageBase, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = (hasDocument && pageWindow.document.title);\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = this.pathname = parts[0];\n      this.hash = decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Expose `Context`.\n   */\n\n  page.Context = Context;\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    page.len++;\n    if (hasHistory) {\n        pageWindow.history.pushState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    if (hasHistory && pageWindow.location.protocol !== 'file:') {\n        pageWindow.history.replaceState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options) {\n    options = options || {};\n    options.strict = options.strict || strict;\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathToRegexp_1(this.path,\n      this.keys = [],\n      options);\n  }\n\n  /**\n   * Expose `Route`.\n   */\n\n  page.Route = Route;\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Handle \"populate\" events.\n   */\n\n  var onpopstate = (function () {\n    var loaded = false;\n    if ( ! hasWindow ) {\n      return;\n    }\n    if (hasDocument && document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else if (isLocation) {\n        var loc = pageWindow.location;\n        page.show(loc.pathname + loc.hash, undefined, undefined, false);\n      }\n    };\n  })();\n  /**\n   * Handle \"click\" events.\n   */\n\n  /* jshint +W054 */\n  function onclick(e) {\n    if (1 !== which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    // use shadow dom when available if not, fall back to composedPath() for browsers that only have shady\n    var el = e.target;\n    var eventPath = e.path || (e.composedPath ? e.composedPath() : null);\n\n    if(eventPath) {\n      for (var i = 0; i < eventPath.length; i++) {\n        if (!eventPath[i].nodeName) continue;\n        if (eventPath[i].nodeName.toUpperCase() !== 'A') continue;\n        if (!eventPath[i].href) continue;\n\n        el = eventPath[i];\n        break;\n      }\n    }\n    // continue ensure link\n    // el.nodeName for svg links are 'a' instead of 'A'\n    while (el && 'A' !== el.nodeName.toUpperCase()) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName.toUpperCase()) return;\n\n    // check if link is inside an svg\n    // in this case, both href and target are always inside an object\n    var svg = (typeof el.href === 'object') && el.href.constructor.name === 'SVGAnimatedString';\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if(!hashbang && samePath(el) && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    // svg target is an object and its desired value is in .baseVal property\n    if (svg ? el.target.baseVal : el.target) return;\n\n    // x-origin\n    // note: svg links that are not relative don't call click events (and skip page.js)\n    // consequently, all svg links tested inside page.js are relative and in the same origin\n    if (!svg && !sameOrigin(el.href)) return;\n\n    // rebuild path\n    // There aren't .pathname and .search properties in svg links, so we use href\n    // Also, svg href is an object and its desired value is in .baseVal property\n    var path = svg ? el.href.baseVal : (el.pathname + el.search + (el.hash || ''));\n\n    path = path[0] !== '/' ? '/' + path : path;\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (hasProcess && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n    var pageBase = getBase();\n\n    if (path.indexOf(pageBase) === 0) {\n      path = path.substr(base.length);\n    }\n\n    if (hashbang) path = path.replace('#!', '');\n\n    if (pageBase && orig === path) return;\n\n    e.preventDefault();\n    page.show(orig);\n  }\n\n  /**\n   * Event button.\n   */\n\n  function which(e) {\n    e = e || (hasWindow && window.event);\n    return null == e.which ? e.button : e.which;\n  }\n\n  /**\n   * Convert to a URL object\n   */\n  function toURL(href) {\n    if(typeof URL === 'function' && isLocation) {\n      return new URL(href, location.toString());\n    } else if (hasDocument) {\n      var anc = document.createElement('a');\n      anc.href = href;\n      return anc;\n    }\n  }\n\n  /**\n   * Check if `href` is the same origin.\n   */\n\n  function sameOrigin(href) {\n    if(!href || !isLocation) return false;\n    var url = toURL(href);\n\n    var loc = pageWindow.location;\n    return loc.protocol === url.protocol &&\n      loc.hostname === url.hostname &&\n      loc.port === url.port;\n  }\n\n  function samePath(url) {\n    if(!isLocation) return false;\n    var loc = pageWindow.location;\n    return url.pathname === loc.pathname &&\n      url.search === loc.search;\n  }\n\n  /**\n   * Gets the `base`, which depends on whether we are using History or\n   * hashbang routing.\n   */\n  function getBase() {\n    if(!!base) return base;\n    var loc = hasWindow && pageWindow && pageWindow.location;\n    return (hasWindow && hashbang && loc && loc.protocol === 'file:') ? loc.pathname : base;\n  }\n\n  page.sameOrigin = sameOrigin;\n\nreturn page_js;\n\n})));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"qs\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/qs/package.json                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"qs\",\n  \"version\": \"6.11.0\",\n  \"main\": \"lib/index.js\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"lib\":{\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/qs/lib/index.js                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"stringify.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/qs/lib/stringify.js                                       //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar split = String.prototype.split;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {\n                var valuesArray = split.call(String(obj), ',');\n                var valuesJoined = '';\n                for (var i = 0; i < valuesArray.length; ++i) {\n                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));\n                }\n                return [formatter(keyValue) + (commaRoundTrip && isArray(obj) && valuesArray.length === 1 ? '[]' : '') + '=' + valuesJoined];\n            }\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix;\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n    if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"utils.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/qs/lib/utils.js                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"formats.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/qs/lib/formats.js                                         //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"parse.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/qs/lib/parse.js                                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"side-channel\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/side-channel/package.json                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"side-channel\",\n  \"version\": \"1.0.4\",\n  \"main\": \"index.js\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/side-channel/index.js                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"get-intrinsic\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/get-intrinsic/package.json                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"get-intrinsic\",\n  \"version\": \"1.1.3\",\n  \"main\": \"index.js\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/get-intrinsic/index.js                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"has-symbols\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/has-symbols/package.json                                  //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"has-symbols\",\n  \"version\": \"1.0.3\",\n  \"main\": \"index.js\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/has-symbols/index.js                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"shams.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/has-symbols/shams.js                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"function-bind\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/function-bind/package.json                                //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"function-bind\",\n  \"version\": \"1.1.1\",\n  \"main\": \"index\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/function-bind/index.js                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"implementation.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/function-bind/implementation.js                           //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"has\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/has/package.json                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"has\",\n  \"version\": \"1.0.3\",\n  \"main\": \"./src\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"src\":{\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/has/src/index.js                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"call-bind\":{\"callBound.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/call-bind/callBound.js                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/call-bind/package.json                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"call-bind\",\n  \"version\": \"1.0.2\",\n  \"main\": \"index.js\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/call-bind/index.js                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"object-inspect\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/object-inspect/package.json                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.exports = {\n  \"name\": \"object-inspect\",\n  \"version\": \"1.12.2\",\n  \"browser\": {\n    \"./util.inspect.js\": false\n  },\n  \"main\": \"index.js\"\n};\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"util.inspect.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/object-inspect/util.inspect.js                            //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"index.js\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// node_modules/meteor/ostrio_flow-router-extra/node_modules/object-inspect/index.js                                   //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".d.ts\"\n  ]\n});\n\nvar exports = require(\"/node_modules/meteor/ostrio:flow-router-extra/client/_init.js\");\n\n/* Exports */\nPackage._define(\"ostrio:flow-router-extra\", exports);\n\n})();\n","servePath":"/packages/ostrio_flow-router-extra.js","sourceMap":{"version":3,"sources":["packages/ostrio:flow-router-extra/client/_init.js","packages/ostrio:flow-router-extra/client/active.route.js","packages/ostrio:flow-router-extra/client/group.js","packages/ostrio:flow-router-extra/client/modules.js","packages/ostrio:flow-router-extra/client/renderer.js","packages/ostrio:flow-router-extra/client/route.js","packages/ostrio:flow-router-extra/client/router.js","packages/ostrio:flow-router-extra/client/triggers.js","packages/ostrio:flow-router-extra/lib/_helpers.js"],"names":["module","export","FlowRouter","Router","Route","Group","Triggers","BlazeRenderer","RouterHelpers","Meteor","link","v","helpersInit","_helpers","requestAnimFrame","Package","_debug","startup","_askedToWait","_initialized","initialize","route","name","action","params","queryParams","render","layout","template","oldRoute","history","length","window","go","oldParams","JSON","parse","e","refresh","isString","Error","_current","stringify","_slicedToArray","default","check","Match","ReactiveDict","Template","templating","init","errorMessages","noSupportedRouter","invalidRouteNameArgument","invalidRouteParamsArgument","checkRouteOrPath","arg","OneOf","RegExp","String","checkParams","Object","config","setDefault","activeClass","caseSensitive","disabledClass","test","_value","_pattern","value","pattern","search","equals","toLowerCase","ActiveRoute","configure","apply","arguments","options","isServer","set","routeName","routeParams","currentPath","currentRouteName","path","isEmpty","watchPathChange","current","getRouteName","isActive","type","inverse","helperName","_options","_attributes","isObject","hash","attributes","regex","extend","ObjectIncluding","Optional","className","class","t","isRegExp","get","isPath","result","data","omit","arHelpers","isActiveRoute","isActivePath","isNotActiveRoute","isNotActivePath","entries","helper","registerHelper","subsReady","_subs","subs","slice","filter","memo","sub","pathFor","_path","_view","view","query","_qs","hashBang","urlFor","absoluteUrl","substr","param","getParam","queryParam","key","getQueryParam","currentRouteOption","optionName","isSubReady","frHelpers","FlowRouterHelpers","assign","exportDefault","makeTrigger","trigger","isFunction","isArray","makeWaitFor","func","makeTriggers","_base","_triggers","concat","router","parent","prefix","_waitFor","waitOn","_router","_triggersEnter","triggersEnter","_triggersExit","triggersExit","_subscriptions","subscriptions","Function","prototype","_pathDef","_group","group","pathDef","waitFor","callSubscriptions","call","page","qs","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","setTimeout","Blaze","blaze","_BlazeRemove","remove","_e","opts","rootElement","document","body","self","isRendering","queue","yield","cache","old","newState","materialized","inMemoryRendering","getMemoryElement","createElement","onCreated","onRendered","materialize","onDestroyed","__layout","__template","__data","__callback","push","startQueue","task","shift","proceed","bind","_layout","_template","viewName","replace","error","onRenderError","updateTemplate","forceReRender","conf","newElement","_render","_load","getData","renderWithData","element","appendChild","updateLayout","dataVar","_parentElement","base","_domrange","parentElement","_typeof","Promise","Tracker","triggers","Renderer","globals","_data","_action","_waitOn","_subsMap","_onNoData","onNoData","_endWaiting","endWaiting","_currentData","_whileWaiting","whileWaiting","_waitOnResources","waitOnResources","_params","_queryParams","_routeCloseDep","Dependency","_pathChangeDep","clearSubscriptions","register","getSubscription","getAllSubscriptions","checkSubscriptions","results","i","ready","includes","next","_isWaiting","_preloaded","_resources","promises","timer","trackers","placeIn","d","toString","then","flush","whileWaitingAction","subWait","delay","clearTimeout","getResources","wait","waitFails","all","catch","processSubData","subData","Array","stopSubs","stop","done","subscription","unshift","preload","len","items","images","other","XMLHttpRequest","elem","index","indexOf","prefetch","k","onload","onerror","open","send","imgs","j","Image","src","forEach","wo","triggerExitIndex","splice","callAction","depend","registerRouteClose","changed","registerRouteChange","currentContext","routeChanging","_updateReactiveDict","dict","newValues","currentKeys","keys","oldKeys","keyDeps","undefined","_createClass","EJSON","pathRegExp","queryRegExp","_tracker","_buildTracker","_specialChars","_encodeParam","paramArr","split","_param","encodeURIComponent","_onEveryPath","_globalRoute","_onRouteCallbacks","_routes","_routesMap","_updateCallbacks","_notFound","notfound","notFound","safeToRun","_basePath","__meteor_runtime_config__","ROOT_URL_PATH_PREFIX","_oldRouteChain","env","replaceState","EnvironmentVariable","reload","trailingSlash","reactiveApis","api","arg1","currentRoute","_redirectFn","fields","withReplaceState","_page","redirect","_initTriggersAPI","_actionHandle","context","decodeQueryParamsOnce","URL","searchParams","querystring","afterAllTriggersRan","_invalidateTracker","runTriggers","_exitHandle","_triggerRouteRegister","clone","pathDefParts","_key","firstRegexpChar","substring","match","strQueryParams","withValue","setParams","newParams","existingParams","setQueryParams","track","reactiveMapper","props","onData","trackerCleanup","handler","nonreactive","autorun","mapper","trackMapper","args","from","pop","globalRoute","values","map","subName","isReady","every","c","fn","withTrailingSlash","fnName","original","state","dispatch","pageOptions","click","popstate","hashbang","decodeURLComponents","tracker","isRouteChange","oldestRoute","afterFlush","invalidate","currentComputation","ex","message","defer","_nextPath","callbacks","exits","catchAll","exit","enter","applyFilters","onRouteRegister","cb","routePublicApi","pick","url","only","except","createRouteBoundTriggers","names","negate","namesMap","filteredTriggers","originalTrigger","modifiedTrigger","matched","redirectFn","after","abort","inCurrentLoop","alreadyRedirected","doRedirect","doStop","lc","obj","isArguments","copy","picked","objs"],"mappings":"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","file":"/packages/ostrio_flow-router-extra.js","sourcesContent":["import { Meteor }    from 'meteor/meteor';\nimport Router        from './router.js';\nimport Route         from './route.js';\nimport Group         from './group.js';\nimport Triggers      from './triggers.js';\nimport BlazeRenderer from './renderer.js';\nimport helpersInit   from './active.route.js';\nimport { _helpers }  from './../lib/_helpers.js';\nimport { requestAnimFrame } from './modules.js';\n\nif (Package['zimme:active-route']) {\n  Meteor._debug('Please remove `zimme:active-route` package, as its features is build into flow-router-extra, and will interfere.');\n  Meteor._debug('meteor remove zimme:active-route');\n}\n\nif (Package['arillo:flow-router-helpers']) {\n  Meteor._debug('Please remove `arillo:flow-router-helpers` package, as its features is build into flow-router-extra, and will interfere.');\n  Meteor._debug('meteor remove arillo:flow-router-helpers');\n}\n\nif (Package['meteorhacks:inject-data']) {\n  Meteor._debug('`meteorhacks:inject-data` is deprecated, please remove it and install its successor - `communitypackages:inject-data`');\n  Meteor._debug('meteor remove meteorhacks:inject-data');\n  Meteor._debug('meteor add communitypackages:inject-data');\n}\n\nif (Package['meteorhacks:fast-render']) {\n  Meteor._debug('`meteorhacks:fast-render` is deprecated, please remove it and install its successor - `communitypackages:fast-render`');\n  Meteor._debug('meteor remove meteorhacks:fast-render');\n  Meteor._debug('meteor add communitypackages:fast-render');\n}\n\nif (Package['staringatlights:inject-data']) {\n  Meteor._debug('`staringatlights:inject-data` is deprecated, please remove it and install its successor - `communitypackages:inject-data`');\n  Meteor._debug('meteor remove staringatlights:inject-data');\n  Meteor._debug('meteor add communitypackages:inject-data');\n}\n\nif (Package['staringatlights:fast-render']) {\n  Meteor._debug('`staringatlights:fast-render` is deprecated, please remove it and install its successor - `communitypackages:fast-render`');\n  Meteor._debug('meteor remove staringatlights:fast-render');\n  Meteor._debug('meteor add communitypackages:fast-render');\n}\n\nconst FlowRouter = new Router();\nFlowRouter.Router = Router;\nFlowRouter.Route = Route;\n\n// Initialize FlowRouter\nMeteor.startup(() => {\n  if(!FlowRouter._askedToWait && !FlowRouter._initialized) {\n    FlowRouter.initialize();\n\n    FlowRouter.route('/___refresh/:layout/:template/:oldRoute?', {\n      name: '___refresh',\n      action(params, queryParams) {\n        this.render(params.layout, params.template, () => {\n          requestAnimFrame(() => {\n            if (params.oldRoute) {\n              try {\n                if (history.length) {\n                  window.history.go(-1);\n                } else {\n                  FlowRouter.go(params.oldRoute, (queryParams.oldParams ? JSON.parse(queryParams.oldParams) : {}));\n                }\n              } catch (e) {\n                FlowRouter.go('/');\n              }\n            } else {\n              if (history.length) {\n                window.history.go(-1);\n              } else {\n                FlowRouter.go('/');\n              }\n            }\n          });\n        });\n      }\n    });\n\n    FlowRouter.refresh = (layout, template) => {\n      if (!layout || !_helpers.isString(layout)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"layout\" must be a String!');\n      }\n\n      if (!template || !_helpers.isString(template)) {\n        throw new Meteor.Error(400, '[FlowRouter.refresh(layout, template)] -> \"template\" must be a String!');\n      }\n\n      FlowRouter.go('___refresh', {\n        oldRoute: FlowRouter._current.route.name,\n        layout,\n        template\n      }, {\n        oldParams: JSON.stringify(FlowRouter._current.params || {})\n      });\n    };\n  }\n});\n\nconst RouterHelpers = helpersInit(FlowRouter);\n\nexport { FlowRouter, Router, Route, Group, Triggers, BlazeRenderer, RouterHelpers };\n","import { Meteor }       from 'meteor/meteor';\nimport { _helpers }     from './../lib/_helpers.js';\nimport { check, Match } from 'meteor/check';\nimport { ReactiveDict } from 'meteor/reactive-dict';\n\nlet Template;\nif (Package.templating) {\n  Template = Package.templating.Template;\n}\n\nconst init = (FlowRouter) => {\n  // Active Route\n  // https://github.com/meteor-activeroute/legacy\n  // zimme:active-route\n  // License (MIT License): https://github.com/meteor-activeroute/legacy/blob/master/LICENSE.md\n  // Lib\n  const errorMessages = {\n    noSupportedRouter: 'No supported router installed. Please install flow-router.',\n    invalidRouteNameArgument: 'Invalid argument, must be String or RegExp.',\n    invalidRouteParamsArgument: 'Invalid argument, must be Object.'\n  };\n\n  const checkRouteOrPath = (arg) => {\n    try {\n      return check(arg, Match.OneOf(RegExp, String));\n    } catch (e) {\n      throw new Error(errorMessages.invalidRouteNameArgument);\n    }\n  };\n\n  const checkParams = (arg) => {\n    try {\n      return check(arg, Object);\n    } catch (e) {\n      throw new Error(errorMessages.invalidRouteParamsArgument);\n    }\n  };\n\n  const config = new ReactiveDict('activeRouteConfig');\n  config.setDefault({\n    activeClass: 'active',\n    caseSensitive: true,\n    disabledClass: 'disabled'\n  });\n\n  const test = (_value, _pattern) => {\n    let value = _value;\n    let pattern = _pattern;\n    if (!value) {\n      return false;\n    }\n\n    if (Match.test(pattern, RegExp)) {\n      return value.search(pattern) > -1;\n    }\n\n    if (Match.test(pattern, String)) {\n      if (config.equals('caseSensitive', false)) {\n        value = value.toLowerCase();\n        pattern = pattern.toLowerCase();\n      }\n      return (value === pattern);\n    }\n\n    return false;\n  };\n\n  const ActiveRoute = {\n    config() {\n      return this.configure.apply(this, arguments);\n    },\n    configure(options) {\n      if (!Meteor.isServer) {\n        config.set(options);\n      }\n    },\n    name(routeName, routeParams = {}) {\n      if (Meteor.isServer) {\n        return void 0;\n      }\n      checkRouteOrPath(routeName);\n      checkParams(routeParams);\n\n      let currentPath;\n      let currentRouteName;\n      let path;\n      if (!_helpers.isEmpty(routeParams) && Match.test(routeName, String)) {\n        FlowRouter.watchPathChange();\n        currentPath = FlowRouter.current().path;\n        path = FlowRouter.path(routeName, routeParams);\n      } else {\n        currentRouteName = FlowRouter.getRouteName();\n      }\n      return test(currentPath || currentRouteName, path || routeName);\n    },\n    path(path) {\n      if (Meteor.isServer) {\n        return void 0;\n      }\n      checkRouteOrPath(path);\n\n      FlowRouter.watchPathChange();\n      return test(FlowRouter.current().path, path);\n    }\n  };\n\n  // Client\n  const isActive = (type, inverse = false) => {\n    let helperName;\n\n    helperName = 'is';\n    if (inverse) {\n      helperName += 'Not';\n    }\n    helperName += 'Active' + type;\n\n    return (_options = {}, _attributes = {}) => {\n      let options    = (_helpers.isObject(_options)) ? (_options.hash || _options) : _options;\n      let attributes = (_helpers.isObject(_attributes)) ? (_attributes.hash || _attributes) : _attributes;\n\n      if (Match.test(options, String)) {\n        if (config.equals('regex', true)) {\n          options = {\n            regex: options\n          };\n        } else if (type === 'Path') {\n          options = {\n            path: options\n          };\n        } else {\n          options = {\n            name: options\n          };\n        }\n      }\n      options = _helpers.extend(options, attributes);\n      const pattern = Match.ObjectIncluding({\n        class: Match.Optional(String),\n        className: Match.Optional(String),\n        regex: Match.Optional(Match.OneOf(RegExp, String)),\n        name: Match.Optional(String),\n        path: Match.Optional(String)\n      });\n      check(options, pattern);\n\n      let regex     = options.regex;\n      let name      = options.name;\n      let path      = options.path;\n      let className = options.class ? options.class : options.className;\n      if (type === 'Path') {\n        name = null;\n      } else {\n        path = null;\n      }\n\n      if (!(regex || name || path)) {\n        const t = (type === 'Route' ? 'name' : type).toLowerCase();\n        Meteor._debug(('Invalid argument, ' + helperName + ' takes \"' + t + '\", ') + (t + '=\"' + t + '\" or regex=\"regex\"'));\n        return false;\n      }\n\n      if (Match.test(regex, String)) {\n        if (config.equals('caseSensitive', false)) {\n          regex = new RegExp(regex, 'i');\n        } else {\n          regex = new RegExp(regex);\n        }\n      }\n\n      if (!_helpers.isRegExp(regex)) {\n        regex = name || path;\n      }\n\n      if (inverse) {\n        if (!_helpers.isString(className)) {\n          className = config.get('disabledClass');\n        }\n      } else {\n        if (!_helpers.isString(className)) {\n          className = config.get('activeClass');\n        }\n      }\n\n      let isPath;\n      let result;\n      if (type === 'Path') {\n        isPath = true;\n      }\n\n      if (isPath) {\n        result = ActiveRoute.path(regex);\n      } else {\n        options = _helpers.extend(attributes.data, attributes);\n        result = ActiveRoute.name(regex, _helpers.omit(options, ['class', 'className', 'data', 'regex', 'name', 'path']));\n      }\n\n      if (inverse) {\n        result = !result;\n      }\n\n      if (result) {\n        return className;\n      }\n      return false;\n    };\n  };\n\n  const arHelpers = {\n    isActiveRoute: isActive('Route'),\n    isActivePath: isActive('Path'),\n    isNotActiveRoute: isActive('Route', true),\n    isNotActivePath: isActive('Path', true)\n  };\n\n  // If blaze is in use, register global helpers\n  if (Template) {\n    for (const [name, helper] of Object.entries(arHelpers)) {\n      Template.registerHelper(name, helper);\n    }\n  }\n\n  // FlowRouter Helpers\n  // arillo:flow-router-helpers\n  // https://github.com/arillo/meteor-flow-router-helpers\n  // License (MIT License): https://github.com/arillo/meteor-flow-router-helpers/blob/master/LICENCE\n  const subsReady = (..._subs) => {\n    let subs = _subs.slice(0, -1);\n    if (subs.length === 1) {\n      return FlowRouter.subsReady();\n    }\n\n    return subs.filter((memo, sub) => {\n      if (_helpers.isString(sub)) {\n        return memo && FlowRouter.subsReady(sub);\n      }\n    }, true);\n  };\n\n  const pathFor = (_path, _view = {hash: {}}) => {\n    let path = _path;\n    let view = _view;\n    if (!path) {\n      throw new Error('no path defined');\n    }\n\n    if (!view.hash) {\n      view = {\n        hash: view\n      };\n    }\n\n    if (path.hash && path.hash.route) {\n      view = path;\n      path = view.hash.route;\n      delete view.hash.route;\n    }\n    const query    = view.hash.query ? FlowRouter._qs.parse(view.hash.query) : {};\n    const hashBang = view.hash.hash ? view.hash.hash : '';\n    return FlowRouter.path(path, view.hash, query) + (hashBang ? '#' + hashBang : '');\n  };\n\n  const urlFor = (path, view) => {\n    return Meteor.absoluteUrl(pathFor(path, view).substr(1));\n  };\n\n  const param = (name) => {\n    return FlowRouter.getParam(name);\n  };\n\n  const queryParam = (key) => {\n    return FlowRouter.getQueryParam(key);\n  };\n\n  const currentRouteName = () => {\n    return FlowRouter.getRouteName();\n  };\n\n  const currentRouteOption = (optionName) => {\n    return FlowRouter.current().route.options[optionName];\n  };\n\n  const isSubReady = (sub) => {\n    if (sub) {\n      return FlowRouter.subsReady(sub);\n    }\n    return FlowRouter.subsReady();\n  };\n\n  const frHelpers = {\n    subsReady: subsReady,\n    pathFor: pathFor,\n    urlFor: urlFor,\n    param: param,\n    queryParam: queryParam,\n    currentRouteName: currentRouteName,\n    isSubReady: isSubReady,\n    currentRouteOption: currentRouteOption\n  };\n\n  let FlowRouterHelpers;\n\n  if (Meteor.isServer) {\n    FlowRouterHelpers = {\n      pathFor: pathFor,\n      urlFor: urlFor\n    };\n  } else {\n    FlowRouterHelpers = frHelpers;\n    // If blaze is in use, register global helpers\n    if (Template) {\n      for (const [name, helper] of Object.entries(frHelpers)) {\n        Template.registerHelper(name, helper);\n      }\n    }\n  }\n\n  return Object.assign({}, ActiveRoute, FlowRouterHelpers);\n};\n\nexport default init;\n","import { _helpers } from './../lib/_helpers.js';\n\nconst makeTrigger = (trigger) => {\n  if (_helpers.isFunction(trigger)) {\n    return [trigger];\n  } else if (!_helpers.isArray(trigger)) {\n    return [];\n  }\n\n  return trigger;\n};\n\nconst makeWaitFor = (func) => {\n  if (_helpers.isFunction(func)) {\n    return [func];\n  }\n\n  return [];\n};\n\nconst makeTriggers = (_base, _triggers) => {\n  if (!_base && !_triggers) {\n    return [];\n  }\n  return makeTrigger(_base).concat(makeTrigger(_triggers));\n};\n\nclass Group {\n  constructor(router, options = {}, parent) {\n    if (options.prefix && !/^\\//.test(options.prefix)) {\n      throw new Error('group\\'s prefix must start with \"/\"');\n    }\n\n    this._waitFor = makeWaitFor(options.waitOn);\n    this._router  = router;\n    this.prefix   = options.prefix || '';\n    this.name     = options.name;\n    this.options  = options;\n\n    this._triggersEnter = makeTriggers(options.triggersEnter, this._triggersEnter);\n    this._triggersExit  = makeTriggers(this._triggersExit, options.triggersExit);\n\n    this._subscriptions = options.subscriptions || Function.prototype;\n\n    this.parent = parent;\n    if (this.parent) {\n      this.prefix = parent.prefix + this.prefix;\n      this._triggersEnter = makeTriggers(parent._triggersEnter, this._triggersEnter);\n      this._triggersExit  = makeTriggers(this._triggersExit, parent._triggersExit);\n      this._waitFor       = this.parent._waitFor.concat(this._waitFor);\n    }\n  }\n\n  route(_pathDef, options = {}, _group) {\n    if (!/^\\//.test(_pathDef)) {\n      throw new Error('route\\'s path must start with \"/\"');\n    }\n\n    const group   = _group || this;\n    const pathDef = this.prefix + _pathDef;\n\n    options.triggersEnter = makeTriggers(this._triggersEnter, options.triggersEnter);\n    options.triggersExit  = makeTriggers(options.triggersExit, this._triggersExit);\n    options.waitFor       = this._waitFor.concat([]);\n    return this._router.route(pathDef, _helpers.extend(_helpers.omit(this.options, ['triggersEnter', 'triggersExit', 'subscriptions', 'prefix', 'waitOn', 'name', 'title', 'titlePrefix', 'link', 'script', 'meta']), options), group);\n  }\n\n  group(options) {\n    return new Group(this._router, options, this);\n  }\n\n  callSubscriptions(current) {\n    if (this.parent) {\n      this.parent.callSubscriptions(current);\n    }\n\n    this._subscriptions.call(current.route, current.params, current.queryParams);\n  }\n}\n\nexport default Group;\n","import page from 'page';\nimport qs   from 'qs';\nconst requestAnimFrame = (() => {\n  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n    setTimeout(callback, 1000 / 60);\n  };\n})();\n\nexport { page, qs, requestAnimFrame };\n","import { Meteor }           from 'meteor/meteor';\nimport { _helpers }         from './../lib/_helpers.js';\nimport { requestAnimFrame } from './modules.js';\n\nlet Blaze;\nlet Template;\n\nif (Package.templating && Package.blaze) {\n  Blaze = Package.blaze.Blaze;\n  Template = Package.templating.Template;\n}\n\nconst _BlazeRemove = function (view) {\n  try {\n    Blaze.remove(view);\n  } catch (_e) {\n    Meteor._debug('[flow-router] [_BlazeRemove] exception:', _e);\n  }\n};\n\nclass BlazeRenderer {\n  constructor(opts = {}) {\n    if (!Blaze || !Template) {\n      return;\n    }\n\n    this.rootElement = opts.rootElement || function () {\n      return document.body;\n    };\n\n    const self = this;\n    this.isRendering = false;\n    this.queue = [];\n    this.yield = null;\n    this.cache = {};\n    this.old = this.newState();\n    this.old.materialized = true;\n\n    this.router = opts.router || false;\n    this.inMemoryRendering = opts.inMemoryRendering || false;\n    this.getMemoryElement = opts.getMemoryElement || function () {\n      return document.createElement('div');\n    };\n\n    if (!this.getMemoryElement || !_helpers.isFunction(this.getMemoryElement)) {\n      throw new Meteor.Error(400, '{getMemoryElement} must be a function, which returns new DOM element');\n    }\n\n    if (!this.rootElement || !_helpers.isFunction(this.rootElement)) {\n      throw new Meteor.Error(400, 'You must pass function into BlazeRenderer constructor, which returns DOM element');\n    }\n\n    Template.yield = new Template('yield', function () {});\n\n    Template.yield.onCreated(function () {\n      self.yield = this;\n    });\n\n    Template.yield.onRendered(function () {\n      self.yield = this;\n      self.materialize(self.old);\n    });\n\n    Template.yield.onDestroyed(function () {\n      if (self.old.template.view) {\n        _BlazeRemove(self.old.template.view);\n        self.old.template.view = null;\n        self.old.materialized = false;\n      }\n      self.yield = null;\n    });\n  }\n\n  render(__layout, __template = false, __data = {}, __callback) {\n    if (!Blaze || !Template) {\n      throw new Meteor.Error(400, '`.render()` - Requires `blaze` and `templating`, or `blaze-html-templates` packages to be installed');\n    }\n\n    if (!__layout) {\n      throw new Meteor.Error(400, '`.render()` - Requires at least one argument');\n    } else if (!_helpers.isString(__layout) && !(__layout instanceof Blaze.Template)) {\n      throw new Meteor.Error(400, '`.render()` - First argument must be a String or instance of Blaze.Template');\n    }\n\n    this.queue.push([__layout, __template, __data, __callback]);\n    this.startQueue();\n  }\n\n  startQueue() {\n    if (this.queue.length) {\n      if (!this.isRendering) {\n        this.isRendering = true;\n        const task = this.queue.shift();\n        this.proceed.apply(this, task);\n        if (this.queue.length) {\n          this.startQueue.bind(this);\n        }\n      } else {\n        this.startQueue.bind(this);\n      }\n    }\n  }\n\n  proceed(__layout, __template = false, __data = {}, __callback) {\n    if (!Blaze || !Template) {\n      return;\n    }\n\n    let data      = __data;\n    let layout    = __layout;\n    let _layout   = false;\n    let template  = __template;\n    let _template = false;\n    let callback  = __callback || (() => {});\n\n    if (_helpers.isString(layout)) {\n      _layout = typeof Template !== 'undefined' && Template !== null ? Template[layout] : void 0;\n    } else if (layout instanceof Blaze.Template) {\n      _layout = layout;\n      layout  = layout.viewName.replace('Template.', '');\n    } else {\n      layout = false;\n    }\n\n    if (_helpers.isString(template)) {\n      _template = typeof Template !== 'undefined' && Template !== null ? Template[template] : void 0;\n    } else if (template instanceof Blaze.Template) {\n      _template = template;\n      template  = template.viewName.replace('Template.', '');\n    } else if (_helpers.isObject(template)) {\n      data     = template;\n      template = false;\n    } else if (_helpers.isFunction(template)) {\n      callback = template;\n      template = false;\n    } else {\n      template = false;\n    }\n\n    if (_helpers.isFunction(data)) {\n      callback = data;\n      data = {};\n    } else if (!_helpers.isObject(data)) {\n      data = {};\n    }\n\n    if (!_helpers.isFunction(callback)) {\n      callback = () => {};\n    }\n\n    if (!_layout) {\n      this.old.materialized = true;\n      this.isRendering = false;\n      const error = new Meteor.Error(404, `No such layout template: ${layout}`);\n      this.router.onRenderError && _helpers.isFunction(this.router.onRenderError) && this.router.onRenderError.call(this, error);\n      callback(error);\n      throw error;\n    }\n\n    const current = this.newState(layout, template);\n    current.data = data;\n    current.callback = callback;\n    let updateTemplate = true;\n\n    const forceReRender = this.router?._current?.route?.conf?.forceReRender === true;\n    if (template) {\n      if (!_template) {\n        this.old.materialized = true;\n        this.isRendering = false;\n        const error = new Meteor.Error(404, `No such template: ${template}`);\n        this.router.onRenderError && _helpers.isFunction(this.router.onRenderError) && this.router.onRenderError.call(this, error);\n        current.callback(error);\n        throw error;\n      }\n\n      if (forceReRender || this.old.template.name !== template) {\n        current.template.name  = template;\n        current.template.blaze = _template;\n        this.newElement('template', current);\n\n        if (this.old.template.view) {\n          _BlazeRemove(this.old.template.view);\n          this.old.template.view = null;\n          this.old.materialized = false;\n        }\n        updateTemplate = false;\n      } else {\n        current.template = this.old.template;\n      }\n    }\n\n    if (!template || this.old.layout.name !== layout) {\n      current.layout.name = layout;\n      current.layout.blaze = _layout;\n      current.template.name = template;\n      current.template.blaze = _template;\n      this.newElement('layout', current);\n\n      if (this.old.layout.view) {\n        _BlazeRemove(this.old.layout.view);\n        this.old.layout.view = null;\n      }\n\n      this._render(current);\n    } else if (template) {\n      current.layout = this.old.layout;\n      current.template.name = template;\n      current.template.blaze = _template;\n      this._load(updateTemplate, true, current);\n    } else {\n      current.layout = this.old.layout;\n      this.isRendering = false;\n      current.materialized = true;\n      current.callback();\n      current.callback = () => {};\n    }\n\n    this.old = current;\n  }\n\n  _render(current) {\n    if (!Blaze || !Template) {\n      return;\n    }\n\n    const getData = () => {\n      return current.data;\n    };\n\n    const rootElement = this.rootElement();\n    if (!rootElement) {\n      throw new Meteor.Error(400, 'BlazeRenderer can\\'t find root element!');\n    }\n\n    if (this.inMemoryRendering) {\n      current.layout.view = Blaze.renderWithData(current.layout.blaze, getData, current.layout.element);\n      requestAnimFrame(() => {\n        rootElement.appendChild(current.layout.element);\n        this._load(false, false, current);\n      });\n    } else {\n      current.layout.view = Blaze.renderWithData(current.layout.blaze, getData, rootElement);\n      this._load(false, false, current);\n    }\n  }\n\n  _load(updateTemplate, updateLayout, current) {\n    if (updateLayout && current.layout.view) {\n      current.layout.view.dataVar.set(current.data);\n    }\n\n    if (current.template.view && updateTemplate) {\n      current.template.view.dataVar.set(current.data);\n      this.isRendering = false;\n      current.materialized = true;\n      current.callback();\n      current.callback = () => {};\n    } else if (!current.template.name) {\n      this.isRendering = false;\n      current.materialized = true;\n      current.callback();\n      current.callback = () => {};\n    } else if (current.template.name && !this.yield) {\n      this.isRendering = false;\n      current.materialized = false;\n      current.callback();\n      current.callback = () => {};\n    } else if (current.template.name && this.yield) {\n      this.materialize(current);\n    }\n  }\n\n  newElement(type, current) {\n    if (!this.inMemoryRendering) {\n      return;\n    }\n\n    current[type].parent = current[type].parent ? current[type].parent : document.createElement('div');\n    if (!current[type].element) {\n      current[type].element = this.getMemoryElement();\n      current[type].parent.appendChild(current[type].element);\n      current[type].element._parentElement = current[type].parent;\n    }\n  }\n\n  newState(layout = false, template = false) {\n    const base = {\n      materialized: false,\n      data: null,\n      callback: function () {},\n      layout: {\n        view: null,\n        name: '',\n        blaze: null,\n        parent: null,\n        element: null\n      },\n      template: {\n        view: null,\n        name: '',\n        blaze: null,\n        parent: null,\n        element: null\n      }\n    };\n\n    if (!this.inMemoryRendering || (!layout && !template)) {\n      return base;\n    }\n\n    if (layout && this.cache[layout]) {\n      base.layout = this.cache[layout];\n    }\n\n    if (template && this.cache[template]) {\n      base.template = this.cache[template];\n    }\n\n    this.cache[template] = base;\n    return base;\n  }\n\n  materialize(current) {\n    if (!Blaze || !Template) {\n      return;\n    }\n\n    if (current.template.name && !current.materialized) {\n      const getData = () => {\n        return current.data;\n      };\n\n      if (!this.yield) {\n        current.materialized = false;\n        return;\n      }\n\n      current.materialized = true;\n      if (this.inMemoryRendering) {\n        current.template.view = Blaze.renderWithData(current.template.blaze, getData, current.template.element, this.yield.view);\n        if (this.yield) {\n          this.yield.view._domrange.parentElement.appendChild(current.template.element);\n          this.isRendering = false;\n          current.materialized = true;\n          current.callback();\n          current.callback = () => {};\n        } else {\n          current.materialized = false;\n        }\n      } else {\n        if (this.yield) {\n          current.template.view = Blaze.renderWithData(current.template.blaze, getData, this.yield.view._domrange.parentElement, this.yield.view);\n          this.isRendering = false;\n          current.materialized = true;\n          current.callback();\n          current.callback = () => {};\n        } else {\n          current.materialized = false;\n        }\n      }\n    }\n  }\n}\n\nexport default BlazeRenderer;\n","import { Router }       from './_init.js';\nimport { Meteor }       from 'meteor/meteor';\nimport { Promise }      from 'meteor/promise';\nimport { Tracker }      from 'meteor/tracker';\nimport { _helpers }     from './../lib/_helpers.js';\nimport { ReactiveDict } from 'meteor/reactive-dict';\n\nconst makeTriggers = (triggers) => {\n  if (_helpers.isFunction(triggers)) {\n    return [triggers];\n  } else if (!_helpers.isArray(triggers)) {\n    return [];\n  }\n\n  return triggers;\n};\n\nclass Route {\n  constructor(router = new Router(), pathDef, options = {}, group) {\n    this.render           = router.Renderer.render.bind(router.Renderer);\n    this.options          = options;\n    this.globals          = router.globals;\n    this.pathDef          = pathDef;\n\n    // Route.path is deprecated and will be removed in 3.0\n    this.path             = pathDef;\n    this.conf             = options.conf || {};\n    this.group            = group;\n    this._data            = options.data || null;\n    this._router          = router;\n    this._action          = options.action || Function.prototype;\n    this._waitOn          = options.waitOn || null;\n    this._waitFor         = _helpers.isArray(options.waitFor) ? options.waitFor : [];\n    this._subsMap         = {};\n    this._onNoData        = options.onNoData || null;\n    this._endWaiting      = options.endWaiting || null;\n    this._currentData     = null;\n    this._triggersExit    = options.triggersExit ? makeTriggers(options.triggersExit) : [];\n    this._whileWaiting    = options.whileWaiting || null;\n    this._triggersEnter   = options.triggersEnter ? makeTriggers(options.triggersEnter) : [];\n    this._subscriptions   = options.subscriptions || Function.prototype;\n    this._waitOnResources = options.waitOnResources || null;\n\n    this._params          = new ReactiveDict();\n    this._queryParams     = new ReactiveDict();\n    this._routeCloseDep   = new Tracker.Dependency();\n    this._pathChangeDep   = new Tracker.Dependency();\n\n    if (options.name) {\n      this.name = options.name;\n    }\n  }\n\n  clearSubscriptions() {\n    this._subsMap = {};\n  }\n\n  register(name, sub) {\n    this._subsMap[name] = sub;\n  }\n\n  getSubscription(name) {\n    return this._subsMap[name];\n  }\n\n  getAllSubscriptions() {\n    return this._subsMap;\n  }\n\n  checkSubscriptions(subscriptions) {\n    const results = [];\n    for (let i = 0; i < subscriptions.length; i++) {\n      results.push((subscriptions[i] && subscriptions[i].ready) ? subscriptions[i].ready() : false);\n    }\n\n    return !results.includes(false);\n  }\n\n  waitOn(current = {}, next) {\n    let _data         = null;\n    let _isWaiting    = false;\n    let _preloaded    = 0;\n    let _resources    = false;\n    let waitFor       = [];\n    let promises      = [];\n    let subscriptions = [];\n    let timer;\n    let trackers      = [];\n\n    const placeIn = (d) => {\n      if (Object.prototype.toString.call(d) === '[object Promise]' || d.then && Object.prototype.toString.call(d.then) === '[object Function]') {\n        promises.push(d);\n      } else if (d.flush) {\n        trackers.push(d);\n      } else if (d.ready) {\n        subscriptions.push(d);\n      }\n    };\n\n    const whileWaitingAction = () => {\n      if (!_isWaiting) {\n        this._whileWaiting && this._whileWaiting(current.params, current.queryParams);\n        _isWaiting = true;\n      }\n    };\n\n    const subWait = (delay) => {\n      timer = Meteor.setTimeout(() => {\n        if (this.checkSubscriptions(subscriptions)) {\n          Meteor.clearTimeout(timer);\n          _data = getData();\n          if (_resources) {\n            whileWaitingAction();\n            getResources();\n          } else {\n            next(current, _data);\n          }\n        } else {\n          wait(24);\n        }\n      }, delay);\n    };\n\n    let waitFails = 0;\n    const wait = (delay) => {\n      if (promises.length) {\n        Promise.all(promises).then(() => {\n          subWait(delay);\n          promises = [];\n        }).catch((error) => {\n          if (waitFails > 9) {\n            subWait(256);\n            waitFails = 0;\n            promises = [];\n          } else {\n            wait(128);\n            waitFails++;\n            Meteor._debug('[ostrio:flow-router-extra] [route.wait] Promise not resolved', error);\n          }\n        });\n      } else {\n        subWait(delay);\n      }\n    };\n\n    const processSubData = (subData) => {\n      if (subData instanceof Array) {\n        for (let i = subData.length - 1; i >= 0; i--) {\n          if (subData[i] !== null && typeof subData[i] === 'object') {\n            placeIn(subData[i]);\n          }\n        }\n      } else if (subData !== null && typeof subData === 'object') {\n        placeIn(subData);\n      }\n    };\n\n    const stopSubs = () => {\n      for (let i = subscriptions.length - 1; i >= 0; i--) {\n        if (subscriptions[i].stop) {\n          subscriptions[i].stop();\n        }\n        delete subscriptions[i];\n      }\n      subscriptions = [];\n    };\n\n    const done = (subscription) => {\n      processSubData(_helpers.isFunction(subscription) ? subscription() : subscription);\n    };\n\n    if (current.route.globals.length) {\n      for (let i = 0; i < current.route.globals.length; i++) {\n        if (typeof current.route.globals[i] === 'object') {\n          if (current.route.globals[i].waitOnResources) {\n            if (!_resources) { _resources = []; }\n            _resources.push(current.route.globals[i].waitOnResources);\n          }\n\n          if (current.route.globals[i].waitOn && _helpers.isFunction(current.route.globals[i].waitOn)) {\n            waitFor.unshift(current.route.globals[i].waitOn);\n          }\n        }\n      }\n    }\n\n    if (this._waitOnResources) {\n      if (!_resources) { _resources = []; }\n      _resources.push(this._waitOnResources);\n    }\n\n    const preload = (len, __data) => {\n      _preloaded++;\n      if (_preloaded >= len) {\n        next(current, __data);\n      }\n    };\n\n    const getData = () => {\n      if (this._data) {\n        if (!_data) {\n          _data = this._currentData = this._data(current.params, current.queryParams);\n        } else {\n          _data = this._currentData;\n        }\n      }\n      return _data;\n    };\n\n    const getResources = () => {\n      _data      = getData();\n      let len    = 0;\n      let items;\n      let images = [];\n      let other  = [];\n      for (let i = _resources.length - 1; i >= 0; i--) {\n        items = _resources[i].call(this, current.params, current.queryParams, _data);\n        if (items) {\n          if (items.images && items.images.length) {\n            images = images.concat(items.images);\n          }\n          if (items.other && items.other.length) {\n            other = other.concat(items.other);\n          }\n        }\n      }\n\n      if ((other && other.length) || (images && images.length)) {\n        if (other && other.length && typeof XMLHttpRequest !== 'undefined') {\n          other = other.filter((elem, index, self) => {\n            return index === self.indexOf(elem);\n          });\n          len += other.length;\n          const prefetch = {};\n          for (let k = other.length - 1; k >= 0; k--) {\n            prefetch[k] = new XMLHttpRequest();\n            prefetch[k].onload  = () => { preload(len, _data); };\n            prefetch[k].onerror = () => { preload(len, _data); };\n            prefetch[k].open('GET', other[k]);\n            prefetch[k].send(null);\n          }\n        }\n\n        if (images && images.length){\n          images = images.filter((elem, index, self) => {\n            return index === self.indexOf(elem);\n          });\n          len += images.length;\n          const imgs = {};\n          for (let j = images.length - 1; j >= 0; j--) {\n            imgs[j]         = new Image();\n            imgs[j].onload  = () => { preload(len, _data); };\n            imgs[j].onerror = () => { preload(len, _data); };\n            imgs[j].src     = images[j];\n          }\n        }\n      } else {\n        next(current, _data);\n      }\n    };\n\n    if (this._waitFor.length) {\n      waitFor = waitFor.concat(this._waitFor);\n    }\n\n    if (_helpers.isFunction(this._waitOn)) {\n      waitFor.push(this._waitOn);\n    }\n\n    if (waitFor.length) {\n      waitFor.forEach((wo) => {\n        processSubData(wo.call(this, current.params, current.queryParams, done));\n      });\n\n      let triggerExitIndex = this._triggersExit.push(() => {\n        stopSubs();\n        for (let i = trackers.length - 1; i >= 0; i--) {\n          if (trackers[i].stop) {\n            trackers[i].stop();\n          }\n          delete trackers[i];\n        }\n        trackers = [];\n        promises = [];\n        subscriptions = [];\n        _data = this._currentData = null;\n        this._triggersExit.splice(triggerExitIndex - 1, 1);\n      });\n\n      whileWaitingAction();\n      wait(12);\n    } else if (_resources) {\n      whileWaitingAction();\n      getResources();\n    } else if (this._data) {\n      next(current, getData());\n    } else {\n      next(current);\n    }\n  }\n\n  callAction(current) {\n    this._endWaiting && this._endWaiting();\n    if (this._data) {\n      if (this._onNoData && !this._currentData) {\n        this._onNoData(current.params, current.queryParams);\n      } else {\n        this._action(current.params, current.queryParams, this._currentData);\n      }\n    } else {\n      this._action(current.params, current.queryParams, this._currentData);\n    }\n  }\n\n  callSubscriptions(current) {\n    this.clearSubscriptions();\n    if (this.group) {\n      this.group.callSubscriptions(current);\n    }\n\n    this._subscriptions(current.params, current.queryParams);\n  }\n\n  getRouteName() {\n    this._routeCloseDep.depend();\n    return this.name;\n  }\n\n  getParam(key) {\n    this._routeCloseDep.depend();\n    return this._params.get(key);\n  }\n\n  getQueryParam(key) {\n    this._routeCloseDep.depend();\n    return this._queryParams.get(key);\n  }\n\n  watchPathChange() {\n    this._pathChangeDep.depend();\n  }\n\n  registerRouteClose() {\n    this._params = new ReactiveDict();\n    this._queryParams = new ReactiveDict();\n    this._routeCloseDep.changed();\n    this._pathChangeDep.changed();\n  }\n\n  registerRouteChange(currentContext, routeChanging) {\n    // register params\n    this._updateReactiveDict(this._params, currentContext.params);\n\n    // register query params\n    this._updateReactiveDict(this._queryParams, currentContext.queryParams);\n\n    // if the route is changing, we need to defer triggering path changing\n    // if we did this, old route's path watchers will detect this\n    // Real issue is, above watcher will get removed with the new route\n    // So, we don't need to trigger it now\n    // We are doing it on the route close event. So, if they exists they'll\n    // get notify that\n    if(!routeChanging) {\n      this._pathChangeDep.changed();\n    }\n  }\n\n  _updateReactiveDict(dict, newValues) {\n    const currentKeys = Object.keys(newValues);\n    const oldKeys = Object.keys(dict.keyDeps);\n\n    // set new values\n    //  params is an array. So, currentKeys.forEach() does not works\n    //  to iterate params\n    currentKeys.forEach((key) => {\n      dict.set(key, newValues[key]);\n    });\n\n    // remove keys which does not exisits here\n    oldKeys.filter((i) => {\n      return currentKeys.indexOf(i) < 0;\n    }).forEach((key) => {\n      dict.set(key, undefined);\n    });\n  }\n}\n\nexport default Route;\n","import { FlowRouter, Route, Group, Triggers, BlazeRenderer } from './_init.js';\nimport { EJSON }    from 'meteor/ejson';\nimport { Meteor }   from 'meteor/meteor';\nimport { Tracker }  from 'meteor/tracker';\nimport { _helpers } from './../lib/_helpers.js';\nimport { page, qs } from './modules.js';\n\n// let isNavigating = false;\n\nclass Router {\n  constructor() {\n    this.pathRegExp = /(:[\\w\\(\\)\\\\\\+\\*\\.\\?\\[\\]\\-]+)+/g;\n    this.queryRegExp = /\\?([^\\/\\r\\n].*)/;\n    this.globals = [];\n    this.subscriptions = Function.prototype;\n    this.Renderer = new BlazeRenderer({ router: this });\n\n    this._tracker = this._buildTracker();\n    this._current = {};\n    this._specialChars = ['/', '%', '+'];\n    this._encodeParam = (param) => {\n      const paramArr = param.split('');\n      let _param = '';\n      for (let i = 0; i < paramArr.length; i++) {\n        if (this._specialChars.includes(paramArr[i])){\n          _param += encodeURIComponent(encodeURIComponent(paramArr[i]));\n        } else {\n          try {\n            _param += encodeURIComponent(paramArr[i]);\n          } catch (e) {\n            _param += paramArr[i];\n          }\n        }\n      }\n      return _param;\n    };\n\n    // tracks the current path change\n    this._onEveryPath = new Tracker.Dependency();\n\n    this._globalRoute = new Route(this);\n\n    // holds onRoute callbacks\n    this._onRouteCallbacks = [];\n\n    // if _askedToWait is true. We don't automatically start the router\n    // in Meteor.startup callback. (see client/_init.js)\n    // Instead user need to call `.initialize()\n    this._askedToWait = false;\n    this._initialized = false;\n    this._triggersEnter = [];\n    this._triggersExit = [];\n    this._routes = [];\n    this._routesMap = {};\n    this._updateCallbacks();\n    this._notFound = null;\n    this.notfound = this.notFound;\n    // indicate it's okay (or not okay) to run the tracker\n    // when doing subscriptions\n    // using a number and increment it help us to support FlowRouter.go()\n    // and legitimate reruns inside tracker on the same event loop.\n    // this is a solution for #145\n    this.safeToRun = 0;\n\n    // Meteor exposes to the client the path prefix that was defined using the\n    // ROOT_URL environement variable on the server using the global runtime\n    // configuration. See #315.\n    this._basePath = window.__meteor_runtime_config__.ROOT_URL_PATH_PREFIX || '';\n\n    // this is a chain contains a list of old routes\n    // most of the time, there is only one old route\n    // but when it's the time for a trigger redirect we've a chain\n    this._oldRouteChain = [];\n\n    this.env = {\n      replaceState: new Meteor.EnvironmentVariable(),\n      reload: new Meteor.EnvironmentVariable(),\n      trailingSlash: new Meteor.EnvironmentVariable()\n    };\n\n    // Implementing Reactive APIs\n    const reactiveApis = [\n      'getParam', 'getQueryParam',\n      'getRouteName', 'watchPathChange'\n    ];\n\n    reactiveApis.forEach((api) => {\n      this[api] = function (arg1) {\n        // when this is calling, there may not be any route initiated\n        // so we need to handle it\n        const currentRoute = this._current.route;\n        if (!currentRoute) {\n          this._onEveryPath.depend();\n          return void 0;\n        }\n\n        // currently, there is only one argument. If we've more let's add more args\n        // this is not clean code, but better in performance\n        return currentRoute[api].call(currentRoute, arg1);\n      };\n    });\n\n    // redirect function used inside triggers\n    this._redirectFn = (pathDef, fields, queryParams) => {\n      if (/^http(s)?:\\/\\//.test(pathDef)) {\n        throw new Error(\"Redirects to URLs outside of the app are not supported in this version of Flow Router. Use 'window.location = yourUrl' instead\");\n      }\n\n      this.withReplaceState(() => {\n        this._page.redirect(FlowRouter.path(pathDef, fields, queryParams));\n      });\n    };\n    this._initTriggersAPI();\n  }\n\n  set notFound(opts) {\n    Meteor._debug('FlowRouter.notFound is deprecated, use FlowRouter.route(\\'*\\', { /*...*/ }) instead!');\n    opts.name = opts.name || '__notFound';\n    this._notFound = this.route('*', opts);\n  }\n\n  get notFound() {\n    return this._notFound;\n  }\n\n  get _page() {\n    return page;\n  }\n\n  get _qs() {\n    return qs;\n  }\n\n  route(pathDef, options = {}, group) {\n    if (!/^\\//.test(pathDef) && pathDef !== '*') {\n      throw new Error(\"route's path must start with '/'\");\n    }\n\n    const route = new Route(this, pathDef, options, group);\n\n    // calls when the page route being activates\n    route._actionHandle = (context) => {\n      // if (isNavigating) {\n      //   return;\n      // }\n      // isNavigating = true;\n      const oldRoute = this._current.route;\n      this._oldRouteChain.push(oldRoute);\n\n      // _qs.parse() gives us a object without prototypes,\n      // created with Object.create(null)\n      // Meteor's check doesn't play nice with it.\n      // So, we need to fix it by cloning it.\n      // see more: https://github.com/meteorhacks/flow-router/issues/164\n\n      // In addition to the above, query params also inappropriately\n      // get decoded twice. The ternary below fixes this bug if the\n      // \"decodeQueryParamsOnce\" option is set to true, so that we\n      // don't break legacy applications. The \"example.com\" domain\n      // below is insignificant but only used to create a URL object\n      // from which we can parse out query params reliably from the\n      // still-encoded path instead of the prematurely decoded\n      // querystring.\n      // See: https://github.com/veliovgroup/flow-router/issues/78\n      const queryParams = this._qs.parse((this.decodeQueryParamsOnce) ? (new URL(context.path, 'http://example.com')).searchParams.toString() : context.querystring);\n      this._current = {\n        path: context.path,\n        params: context.params,\n        route,\n        context,\n        oldRoute,\n        queryParams\n      };\n\n      // we need to invalidate if all the triggers have been completed\n      // if not that means, we've been redirected to another path\n      // then we don't need to invalidate\n      const afterAllTriggersRan = () => {\n        // isNavigating = false;\n        this._invalidateTracker();\n      };\n\n      route.waitOn(this._current, (current, data) => {\n        Triggers.runTriggers(\n          this._triggersEnter.concat(route._triggersEnter),\n          this._current,\n          this._redirectFn,\n          afterAllTriggersRan,\n          data\n        );\n      });\n    };\n\n    // calls when you exit from the page js route\n    route._exitHandle = (context, next) => {\n      Triggers.runTriggers(\n        this._triggersExit.concat(route._triggersExit),\n        this._current,\n        this._redirectFn,\n        next\n      );\n    };\n\n    this._routes.push(route);\n    if (options.name) {\n      this._routesMap[options.name] = route;\n    }\n\n    this._updateCallbacks();\n    this._triggerRouteRegister(route);\n\n    return route;\n  }\n\n  group(options) {\n    return new Group(this, options);\n  }\n\n  path(_pathDef, fields = {}, _queryParams = {}) {\n    let pathDef = _pathDef || '';\n    let queryParams = _queryParams;\n\n    if (this._routesMap[pathDef]) {\n      pathDef = _helpers.clone(this._routesMap[pathDef].pathDef);\n    }\n\n    if (this.queryRegExp.test(pathDef)) {\n      const pathDefParts = pathDef.split(this.queryRegExp);\n      pathDef = pathDefParts[0];\n      if (pathDefParts[1]) {\n        queryParams = Object.assign(this._qs.parse(pathDefParts[1]), queryParams);\n      }\n    }\n\n    let path = '';\n\n    // Prefix the path with the router global prefix\n    if (this._basePath) {\n      path += `/${this._basePath}/`;\n    }\n\n    path += pathDef.replace(this.pathRegExp, (_key) => {\n      const firstRegexpChar = _key.indexOf('(');\n      // get the content behind : and (\\\\d+/)\n      let key = _key.substring(1, (firstRegexpChar > 0) ? firstRegexpChar : undefined);\n      // remove +?*\n      key = key.replace(/[\\+\\*\\?]+/g, '');\n\n      // this is to allow page js to keep the custom characters as it is\n      // we need to encode 2 times otherwise \"/\" char does not work properly\n      // So, in that case, when I includes \"/\" it will think it's a part of the\n      // route. encoding 2times fixes it\n      if (fields[key]) {\n        return this._encodeParam(`${fields[key]}`);\n      }\n\n      return '';\n    });\n\n    // Replace multiple slashes with single slash\n    path = path.replace(/\\/\\/+/g, '/');\n\n    // remove trailing slash\n    // but keep the root slash if it's the only one\n    path = path.match(/^\\/{1}$/) ? path : path.replace(/\\/$/, '');\n\n    // explicitly asked to add a trailing slash\n    if (this.env.trailingSlash.get() && path[path.length - 1] !== '/') {\n      path += '/';\n    }\n\n    const strQueryParams = this._qs.stringify(queryParams || {});\n    if (strQueryParams) {\n      path += `?${strQueryParams}`;\n    }\n\n    path = path.replace(/\\/\\/+/g, '/');\n    return path;\n  }\n\n  go(pathDef, fields, queryParams) {\n    // if (isNavigating) {\n    //   return;\n    // }\n    const path = this.path(pathDef, fields, queryParams);\n    if (!this.env.reload.get() && path === this._current.path) {\n      return;\n    }\n\n    // THIS DESCISION ISN'T CLEAR\n    // WE SHOULD AVOID .go() METHOD\n    // IF WE ARE CURRETLY NAVIGATING\n    // BUT AT THE SAME TIME IT MAY BREAK\n    // REDIRECTS AND MORE COMPLEX LOGIC\n    // SO WE WILL LEAVE IT COMMENTED AND\n    // AS IT IS FOR NOW TO AVOID COMPATIBILITY ISSUES\n    // SEARCH FOR `isNavigating` VARIABLE ACROSS THIS\n    // FILE TO LEARN MORE.\n    // OH... CLIENT-SIDE NAVIGATION AIN'T SIMPLE THING\n    // isNavigating = true;\n\n    try {\n      if (this.env.replaceState.get()) {\n        this._page.replace(path);\n      } else {\n        this._page(path);\n      }\n    } catch (e) {\n      Meteor._debug('Malformed URI!', path, e);\n    }\n  }\n\n  reload() {\n    this.env.reload.withValue(true, () => {\n      this._page.replace(this._current.path);\n    });\n  }\n\n  redirect(path) {\n    this._page.redirect(path);\n  }\n\n  setParams(newParams) {\n    if (!this._current.route) {return false;}\n\n    const pathDef = this._current.route.pathDef;\n    const existingParams = this._current.params;\n    let params = {};\n    Object.keys(existingParams).forEach((key) => {\n      params[key] = existingParams[key];\n    });\n\n    params = _helpers.extend(params, newParams);\n    const queryParams = this._current.queryParams;\n\n    this.go(pathDef, params, queryParams);\n    return true;\n  }\n\n  setQueryParams(newParams) {\n    if (!this._current.route) {return false;}\n\n    const queryParams = _helpers.extend(_helpers.clone(this._current.queryParams), newParams);\n\n    for (const k in queryParams) {\n      if (queryParams[k] === null || queryParams[k] === undefined) {\n        delete queryParams[k];\n      }\n    }\n\n    const pathDef = this._current.route.pathDef;\n    const params = this._current.params;\n    this.go(pathDef, params, queryParams);\n    return true;\n  }\n\n  // .current is not reactive\n  // This is by design. use .getParam() instead\n  // If you really need to watch the path change, use .watchPathChange()\n  current() {\n    // We can't trust outside, that's why we clone this\n    // Anyway, we can't clone the whole object since it has non-jsonable values\n    // That's why we clone what's really needed.\n    const current = _helpers.clone(this._current);\n    current.queryParams = EJSON.clone(current.queryParams);\n    current.params = EJSON.clone(current.params);\n    return current;\n  }\n\n  track(reactiveMapper) {\n    return (props, onData, env) => {\n      let trackerCleanup = null;\n      const handler = Tracker.nonreactive(() => {\n        return Tracker.autorun(() => {\n          trackerCleanup = reactiveMapper(props, onData, env);\n        });\n      });\n\n      return () => {\n        if (typeof trackerCleanup === 'function') {\n          trackerCleanup();\n        }\n        return handler.stop();\n      };\n    };\n  }\n\n  mapper(props, onData, env) {\n    if (typeof onData === 'function') {\n      onData(null, { route: this.current(), props, env });\n    }\n  }\n\n  trackMapper() {\n    return this.track(this.mapper);\n  }\n\n  subsReady() {\n    let callback = null;\n    const args = Array.from(arguments);\n\n    if (typeof args[args.length - 1] === 'function') {\n      callback = args.pop();\n    }\n\n    const currentRoute = this.current().route;\n    const globalRoute = this._globalRoute;\n\n    // we need to depend for every route change and\n    // rerun subscriptions to check the ready state\n    this._onEveryPath.depend();\n\n    if (!currentRoute) {\n      return false;\n    }\n\n    let subscriptions;\n    if (args.length === 0) {\n      subscriptions = Object.values(globalRoute.getAllSubscriptions());\n      subscriptions = subscriptions.concat(Object.values(currentRoute.getAllSubscriptions()));\n    } else {\n      subscriptions = args.map((subName) => {\n        return globalRoute.getSubscription(subName) || currentRoute.getSubscription(subName);\n      });\n    }\n\n    const isReady = () => {\n      const ready =  subscriptions.every((sub) => {\n        return sub && sub.ready();\n      });\n\n      return ready;\n    };\n\n    if (callback) {\n      Tracker.autorun((c) => {\n        if (isReady()) {\n          callback();\n          c.stop();\n        }\n      });\n      return true;\n    }\n    return isReady();\n  }\n\n  withReplaceState(fn) {\n    return this.env.replaceState.withValue(true, fn);\n  }\n\n  withTrailingSlash(fn) {\n    return this.env.trailingSlash.withValue(true, fn);\n  }\n\n  initialize(options = {}) {\n    if (this._initialized) {\n      throw new Error('FlowRouter is already initialized');\n    }\n\n    const self = this;\n    this._updateCallbacks();\n\n    // Implementing idempotent routing\n    // by overriding page.js`s \"show\" method.\n    // Why?\n    // It is impossible to bypass exit triggers,\n    // because they execute before the handler and\n    // can not know what the next path is, inside exit trigger.\n    //\n    // we need override both show, replace to make this work\n    // since we use redirect when we are talking about withReplaceState\n    ['show', 'replace'].forEach((fnName) => {\n      const original = self._page[fnName];\n      self._page[fnName] = function (path, state, dispatch, push) {\n        if (!path || (!self.env.reload.get() && self._current.path === path)) {\n          return;\n        }\n        original.call(self, path.replace(/\\/\\/+/g, '/'), state, dispatch, push);\n      };\n    });\n\n    // this is very ugly part of pagejs and it does decoding few times\n    // in unpredicatable manner. See #168\n    // this is the default behaviour and we need keep it like that\n    // we are doing a hack. see .path()\n    this._page.base(this._basePath);\n\n    const pageOptions = Object.assign({\n      click: true,\n      popstate: true,\n      // dispatch: false, // not supported by FlowRouter\n      hashbang: !!options.hashbang,\n      decodeURLComponents: true,\n      window: window\n    }, options.page || {});\n\n\n    this._page.call(void 0, pageOptions);\n    this._initialized = true;\n  }\n\n  _buildTracker() {\n    // main autorun function\n    const tracker = Tracker.autorun(() => {\n      if (!this._current || !this._current.route) {\n        return;\n      }\n\n      // see the definition of `this._processingContexts`\n      const currentContext = this._current;\n      const route = currentContext.route;\n      const path = currentContext.path;\n\n      if (this.safeToRun === 0) {\n        throw new Error(\"You can't use reactive data sources like Session inside the `.subscriptions` method!\");\n      }\n\n      // We need to run subscriptions inside a Tracker\n      // to stop subs when switching between routes\n      // But we don't need to run this tracker with\n      // other reactive changes inside the .subscription method\n      // We tackle this with the `safeToRun` variable\n      this._globalRoute.clearSubscriptions();\n      this.subscriptions.call(this._globalRoute, path);\n      route.callSubscriptions(currentContext);\n\n      // otherwise, computations inside action will trigger to re-run\n      // this computation. which we do not need.\n      Tracker.nonreactive(() => {\n        let isRouteChange = currentContext.oldRoute !== currentContext.route;\n        // first route is not a route change\n        if (!currentContext.oldRoute) {\n          isRouteChange = false;\n        }\n\n        // Clear oldRouteChain just before calling the action\n        // We still need to get a copy of the oldestRoute first\n        // It's very important to get the oldest route and registerRouteClose() it\n        // See: https://github.com/kadirahq/flow-router/issues/314\n        const oldestRoute = this._oldRouteChain[0];\n        this._oldRouteChain = [];\n\n        currentContext.route.registerRouteChange(currentContext, isRouteChange);\n        route.callAction(currentContext);\n\n        Tracker.afterFlush(() => {\n          this._onEveryPath.changed();\n          if (isRouteChange) {\n            // We need to trigger that route (definition itself) has changed.\n            // So, we need to re-run all the register callbacks to current route\n            // This is pretty important, otherwise tracker\n            // can't identify new route's items\n\n            // We also need to afterFlush, otherwise this will re-run\n            // helpers on templates which are marked for destroying\n            if (oldestRoute && oldestRoute.registerRouteClose) {\n              oldestRoute.registerRouteClose();\n            }\n          }\n        });\n      });\n\n      this.safeToRun--;\n    });\n\n    return tracker;\n  }\n\n  _invalidateTracker() {\n    this.safeToRun++;\n    this._tracker.invalidate();\n    // After the invalidation we need to flush to make changes immediately\n    // otherwise, we have face some issues context mix-matches and so on.\n    // But there are some cases we can't flush. So we need to ready for that.\n\n    // we clearly know, we can't flush inside an autorun\n    // this may leads some issues on flow-routing\n    // we may need to do some warning\n    if (!Tracker.currentComputation) {\n      // Still there are some cases where we can't flush\n      //  eg:- when there is a flush currently\n      // But we've no public API or hacks to get that state\n      // So, this is the only solution\n      try {\n        Tracker.flush();\n      } catch(ex) {\n        // only handling \"while flushing\" errors\n        if (!/Tracker\\.flush while flushing/.test(ex.message)) {\n          return;\n        }\n\n        // XXX: fix this with a proper solution by removing subscription mgt.\n        // from the router. Then we don't need to run invalidate using a tracker\n\n        // this happens when we are trying to invoke a route change\n        // with inside a route change. (eg:- Template.onCreated)\n        // Since we use page.js and tracker, we don't have much control\n        // over this process.\n        // only solution is to defer route execution.\n\n        // It's possible to have more than one path want to defer\n        // But, we only need to pick the last one.\n        // self._nextPath = self._current.path;\n        Meteor.defer(() => {\n          const path = this._nextPath;\n          if (!path) {\n            return;\n          }\n\n          delete this._nextPath;\n          this.env.reload.withValue(true, () => {\n            this.go(path);\n          });\n        });\n      }\n    }\n  }\n\n  _updateCallbacks() {\n    this._page.callbacks = [];\n    this._page.exits = [];\n    let catchAll = null;\n\n    this._routes.forEach((route) => {\n      if (route.pathDef === '*') {\n        catchAll = route;\n      } else {\n        this._page(route.pathDef, route._actionHandle);\n        this._page.exit(route.pathDef, route._exitHandle);\n      }\n    });\n\n    // Setting exit triggers on catch all routes leads to weird behavior.\n    // We recommend to avoid enter and exit triggers on catch all (`*`) routes.\n    // Use FlowRouter.triggers.exit([func]) and FlowRouter.triggers.enter([func]) instead\n    if (catchAll) {\n      this._page(catchAll.pathDef, catchAll._actionHandle);\n      // this._page.exit(catchAll.pathDef, catchAll._exitHandle);\n    }\n  }\n\n  _initTriggersAPI() {\n    const self = this;\n    this.triggers = {\n      enter(_triggers, filter) {\n        let triggers = Triggers.applyFilters(_triggers, filter);\n        if (triggers.length) {\n          self._triggersEnter = self._triggersEnter.concat(triggers);\n        }\n      },\n      exit(_triggers, filter) {\n        let triggers = Triggers.applyFilters(_triggers, filter);\n        if (triggers.length) {\n          self._triggersExit = self._triggersExit.concat(triggers);\n        }\n      }\n    };\n  }\n\n  wait() {\n    if (this._initialized) {\n      throw new Error(\"can't wait after FlowRouter has been initialized\");\n    }\n\n    this._askedToWait = true;\n  }\n\n  onRouteRegister(cb) {\n    this._onRouteCallbacks.push(cb);\n  }\n\n  _triggerRouteRegister(currentRoute) {\n    // We should only need to send a safe set of fields on the route\n    // object.\n    // This is not to hide what's inside the route object, but to show\n    // these are the public APIs\n    const routePublicApi = _helpers.pick(currentRoute, ['name', 'pathDef', 'path']);\n    routePublicApi.options = _helpers.omit(currentRoute.options, ['triggersEnter', 'triggersExit', 'action', 'subscriptions', 'name']);\n\n    this._onRouteCallbacks.forEach((cb) => {\n      cb(routePublicApi);\n    });\n  }\n\n  url() {\n    // We need to remove the leading base path, or \"/\", as it will be inserted\n    // automatically by `Meteor.absoluteUrl` as documented in:\n    // http://docs.meteor.com/#/full/meteor_absoluteurl\n    return Meteor.absoluteUrl(this.path.apply(this, arguments).replace(new RegExp('^' + (`/${this._basePath || ''}/`).replace(/\\/\\/+/g, '/')), ''));\n  }\n}\n\nexport default Router;\n","// a set of utility functions for triggers\n\nconst Triggers = {};\n\n// Apply filters for a set of triggers\n// @triggers - a set of triggers\n// @filter - filter with array fields with `only` and `except`\n//           support only either `only` or `except`, but not both\nTriggers.applyFilters = (_triggers, filter) => {\n  let triggers = _triggers;\n  if(!(triggers instanceof Array)) {\n    triggers = [triggers];\n  }\n\n  if(!filter) {\n    return triggers;\n  }\n\n  if(filter.only && filter.except) {\n    throw new Error('Triggers don\\'t support only and except filters at once');\n  }\n\n  if(filter.only && !(filter.only instanceof Array)) {\n    throw new Error('only filters needs to be an array');\n  }\n\n  if(filter.except && !(filter.except instanceof Array)) {\n    throw new Error('except filters needs to be an array');\n  }\n\n  if(filter.only) {\n    return Triggers.createRouteBoundTriggers(triggers, filter.only);\n  }\n\n  if(filter.except) {\n    return Triggers.createRouteBoundTriggers(triggers, filter.except, true);\n  }\n\n  throw new Error('Provided a filter but not supported');\n};\n\n//  create triggers by bounding them to a set of route names\n//  @triggers - a set of triggers\n//  @names - list of route names to be bound (trigger runs only for these names)\n//  @negate - negate the result (triggers won't run for above names)\nTriggers.createRouteBoundTriggers = (triggers, names, negate) => {\n  const namesMap = {};\n  names.forEach((name) => {\n    namesMap[name] = true;\n  });\n\n  const filteredTriggers = triggers.map((originalTrigger) => {\n    const modifiedTrigger = (context, next) => {\n      let matched = (namesMap[context.route.name]) ? 1 : -1;\n      matched = (negate) ? matched * -1 : matched;\n\n      if(matched === 1) {\n        originalTrigger(context, next);\n      }\n    };\n    return modifiedTrigger;\n  });\n\n  return filteredTriggers;\n};\n\n//  run triggers and abort if redirected or callback stopped\n//  @triggers - a set of triggers\n//  @context - context we need to pass (it must have the route)\n//  @redirectFn - function which used to redirect\n//  @after - called after if only all the triggers runs\nTriggers.runTriggers = (triggers, context, redirectFn, after, data) => {\n  let abort = false;\n  let inCurrentLoop = true;\n  let alreadyRedirected = false;\n\n  const doRedirect = (url, params, queryParams) => {\n    if(alreadyRedirected) {\n      throw new Error('already redirected');\n    }\n\n    if(!inCurrentLoop) {\n      throw new Error('redirect needs to be done in sync');\n    }\n\n    if(!url) {\n      throw new Error('trigger redirect requires an URL');\n    }\n\n    abort = true;\n    alreadyRedirected = true;\n    redirectFn(url, params, queryParams);\n  };\n\n  const doStop = () => {\n    abort = true;\n  };\n\n  for (let lc = 0; lc < triggers.length; lc++) {\n    triggers[lc](context, doRedirect, doStop, data);\n\n    if (abort) {\n      return;\n    }\n  }\n\n  // mark that, we've exceeds the currentEventloop for\n  // this set of triggers.\n  inCurrentLoop = false;\n  after();\n};\n\nexport default Triggers;\n","import { Meteor } from 'meteor/meteor';\n\nconst _helpers = {\n  isEmpty(obj) { // 1\n    if (obj == null) {\n      return true;\n    }\n\n    if (this.isArray(obj) || this.isString(obj) || this.isArguments(obj)) {\n      return obj.length === 0;\n    }\n\n    return Object.keys(obj).length === 0;\n  },\n  isObject(obj) {\n    const type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  },\n  omit(obj, keys) { // 10\n    if (!this.isObject(obj)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] First argument must be an Object');\n      return obj;\n    }\n\n    if (!this.isArray(keys)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] Second argument must be an Array');\n      return obj;\n    }\n\n    const copy = this.clone(obj);\n    keys.forEach((key) => {\n      delete copy[key];\n    });\n\n    return copy;\n  },\n  pick(obj, keys) { // 2\n    if (!this.isObject(obj)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] First argument must be an Object');\n      return obj;\n    }\n\n    if (!this.isArray(keys)) {\n      Meteor._debug('[ostrio:flow-router-extra] [_helpers.omit] Second argument must be an Array');\n      return obj;\n    }\n\n    const picked = {};\n    keys.forEach((key) => {\n      picked[key] = obj[key];\n    });\n\n    return picked;\n  },\n  isArray(obj) {\n    return Array.isArray(obj);\n  },\n  extend(...objs) { // 4\n    return Object.assign({}, ...objs);\n  },\n  clone(obj) {\n    if (!this.isObject(obj)) return obj;\n    return this.isArray(obj) ? obj.slice() : this.extend(obj);\n  }\n};\n\n['Arguments', 'Function', 'String', 'RegExp'].forEach((name) => {\n  _helpers['is' + name] = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object ' + name + ']';\n  };\n});\n\nexport { _helpers };\n"]}}]